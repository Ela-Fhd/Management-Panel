import { Component, EventEmitter, Input, Output } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import { timer } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
export class CircleProgressOptions {
    constructor() {
        this.class = '';
        this.backgroundGradient = false;
        this.backgroundColor = 'transparent';
        this.backgroundGradientStopColor = 'transparent';
        this.backgroundOpacity = 1;
        this.backgroundStroke = 'transparent';
        this.backgroundStrokeWidth = 0;
        this.backgroundPadding = 5;
        this.percent = 0;
        this.radius = 90;
        this.space = 4;
        this.toFixed = 0;
        this.maxPercent = 1000;
        this.renderOnClick = true;
        this.units = '%';
        this.unitsFontSize = '10';
        this.unitsFontWeight = 'normal';
        this.unitsColor = '#444444';
        this.outerStrokeGradient = false;
        this.outerStrokeWidth = 8;
        this.outerStrokeColor = '#78C000';
        this.outerStrokeGradientStopColor = 'transparent';
        this.outerStrokeLinecap = 'round';
        this.innerStrokeColor = '#C7E596';
        this.innerStrokeWidth = 4;
        this.titleFormat = undefined;
        this.title = 'auto';
        this.titleColor = '#444444';
        this.titleFontSize = '20';
        this.titleFontWeight = 'normal';
        this.subtitleFormat = undefined;
        this.subtitle = 'progress';
        this.subtitleColor = '#A9A9A9';
        this.subtitleFontSize = '10';
        this.subtitleFontWeight = 'normal';
        this.imageSrc = undefined;
        this.imageHeight = 0;
        this.imageWidth = 0;
        this.animation = true;
        this.animateTitle = true;
        this.animateSubtitle = false;
        this.animationDuration = 500;
        this.showTitle = true;
        this.showSubtitle = true;
        this.showUnits = true;
        this.showImage = false;
        this.showBackground = true;
        this.showInnerStroke = true;
        this.clockwise = true;
        this.responsive = false;
        this.startFromZero = true;
        this.showZeroOuterStroke = true;
        this.lazy = false;
    }
}
export class CircleProgressComponent {
    constructor(defaultOptions, ngZone, elRef, injector) {
        this.ngZone = ngZone;
        this.elRef = elRef;
        this.onClick = new EventEmitter();
        // <svg> of component
        this.svgElement = null;
        // whether <svg> is in viewport
        this.isInViewport = false;
        // event for notifying viewport change caused by scrolling or resizing
        this.onViewportChanged = new EventEmitter();
        this._viewportChangedSubscriber = null;
        this.options = new CircleProgressOptions();
        this.defaultOptions = new CircleProgressOptions();
        this._lastPercent = 0;
        this._gradientUUID = null;
        this.render = () => {
            this.applyOptions();
            if (this.options.lazy) {
                // Draw svg if it doesn't exist
                this.svgElement === null && this.draw(this._lastPercent);
                // Draw it only when it's in the viewport
                if (this.isInViewport) {
                    // Draw it at the latest position when I am in.
                    if (this.options.animation && this.options.animationDuration > 0) {
                        this.animate(this._lastPercent, this.options.percent);
                    }
                    else {
                        this.draw(this.options.percent);
                    }
                    this._lastPercent = this.options.percent;
                }
            }
            else {
                if (this.options.animation && this.options.animationDuration > 0) {
                    this.animate(this._lastPercent, this.options.percent);
                }
                else {
                    this.draw(this.options.percent);
                }
                this._lastPercent = this.options.percent;
            }
        };
        this.polarToCartesian = (centerX, centerY, radius, angleInDegrees) => {
            let angleInRadius = angleInDegrees * Math.PI / 180;
            let x = centerX + Math.sin(angleInRadius) * radius;
            let y = centerY - Math.cos(angleInRadius) * radius;
            return { x: x, y: y };
        };
        this.draw = (percent) => {
            // make percent reasonable
            percent = (percent === undefined) ? this.options.percent : Math.abs(percent);
            // circle percent shouldn't be greater than 100%.
            let circlePercent = (percent > 100) ? 100 : percent;
            // determine box size
            let boxSize = this.options.radius * 2 + this.options.outerStrokeWidth * 2;
            if (this.options.showBackground) {
                boxSize += (this.options.backgroundStrokeWidth * 2 + this.max(0, this.options.backgroundPadding * 2));
            }
            // the centre of the circle
            let centre = { x: boxSize / 2, y: boxSize / 2 };
            // the start point of the arc
            let startPoint = { x: centre.x, y: centre.y - this.options.radius };
            // get the end point of the arc
            let endPoint = this.polarToCartesian(centre.x, centre.y, this.options.radius, 360 * (this.options.clockwise ?
                circlePercent :
                (100 - circlePercent)) / 100); // ####################
            // We'll get an end point with the same [x, y] as the start point when percent is 100%, so move x a little bit.
            if (circlePercent === 100) {
                endPoint.x = endPoint.x + (this.options.clockwise ? -0.01 : +0.01);
            }
            // largeArcFlag and sweepFlag
            let largeArcFlag, sweepFlag;
            if (circlePercent > 50) {
                [largeArcFlag, sweepFlag] = this.options.clockwise ? [1, 1] : [1, 0];
            }
            else {
                [largeArcFlag, sweepFlag] = this.options.clockwise ? [0, 1] : [0, 0];
            }
            // percent may not equal the actual percent
            let titlePercent = this.options.animateTitle ? percent : this.options.percent;
            let titleTextPercent = titlePercent > this.options.maxPercent ?
                `${this.options.maxPercent.toFixed(this.options.toFixed)}+` : titlePercent.toFixed(this.options.toFixed);
            let subtitlePercent = this.options.animateSubtitle ? percent : this.options.percent;
            // get title object
            let title = {
                x: centre.x,
                y: centre.y,
                textAnchor: 'middle',
                color: this.options.titleColor,
                fontSize: this.options.titleFontSize,
                fontWeight: this.options.titleFontWeight,
                texts: [],
                tspans: []
            };
            // from v0.9.9, both title and titleFormat(...) may be an array of string.
            if (this.options.titleFormat !== undefined && this.options.titleFormat.constructor.name === 'Function') {
                let formatted = this.options.titleFormat(titlePercent);
                if (formatted instanceof Array) {
                    title.texts = [...formatted];
                }
                else {
                    title.texts.push(formatted.toString());
                }
            }
            else {
                if (this.options.title === 'auto') {
                    title.texts.push(titleTextPercent);
                }
                else {
                    if (this.options.title instanceof Array) {
                        title.texts = [...this.options.title];
                    }
                    else {
                        title.texts.push(this.options.title.toString());
                    }
                }
            }
            // get subtitle object
            let subtitle = {
                x: centre.x,
                y: centre.y,
                textAnchor: 'middle',
                color: this.options.subtitleColor,
                fontSize: this.options.subtitleFontSize,
                fontWeight: this.options.subtitleFontWeight,
                texts: [],
                tspans: []
            };
            // from v0.9.9, both subtitle and subtitleFormat(...) may be an array of string.
            if (this.options.subtitleFormat !== undefined && this.options.subtitleFormat.constructor.name === 'Function') {
                let formatted = this.options.subtitleFormat(subtitlePercent);
                if (formatted instanceof Array) {
                    subtitle.texts = [...formatted];
                }
                else {
                    subtitle.texts.push(formatted.toString());
                }
            }
            else {
                if (this.options.subtitle instanceof Array) {
                    subtitle.texts = [...this.options.subtitle];
                }
                else {
                    subtitle.texts.push(this.options.subtitle.toString());
                }
            }
            // get units object
            let units = {
                text: `${this.options.units}`,
                fontSize: this.options.unitsFontSize,
                fontWeight: this.options.unitsFontWeight,
                color: this.options.unitsColor
            };
            // get total count of text lines to be shown
            let rowCount = 0, rowNum = 1;
            this.options.showTitle && (rowCount += title.texts.length);
            this.options.showSubtitle && (rowCount += subtitle.texts.length);
            // calc dy for each tspan for title
            if (this.options.showTitle) {
                for (let span of title.texts) {
                    title.tspans.push({ span: span, dy: this.getRelativeY(rowNum, rowCount) });
                    rowNum++;
                }
            }
            // calc dy for each tspan for subtitle
            if (this.options.showSubtitle) {
                for (let span of subtitle.texts) {
                    subtitle.tspans.push({ span: span, dy: this.getRelativeY(rowNum, rowCount) });
                    rowNum++;
                }
            }
            // create ID for gradient element
            if (null === this._gradientUUID) {
                this._gradientUUID = this.uuid();
            }
            // Bring it all together
            this.svg = {
                viewBox: `0 0 ${boxSize} ${boxSize}`,
                // Set both width and height to '100%' if it's responsive
                width: this.options.responsive ? '100%' : boxSize,
                height: this.options.responsive ? '100%' : boxSize,
                backgroundCircle: {
                    cx: centre.x,
                    cy: centre.y,
                    r: this.options.radius + this.options.outerStrokeWidth / 2 + this.options.backgroundPadding,
                    fill: this.options.backgroundColor,
                    fillOpacity: this.options.backgroundOpacity,
                    stroke: this.options.backgroundStroke,
                    strokeWidth: this.options.backgroundStrokeWidth,
                },
                path: {
                    // A rx ry x-axis-rotation large-arc-flag sweep-flag x y (https://developer.mozilla.org/en/docs/Web/SVG/Tutorial/Paths#Arcs)
                    d: `M ${startPoint.x} ${startPoint.y}
        A ${this.options.radius} ${this.options.radius} 0 ${largeArcFlag} ${sweepFlag} ${endPoint.x} ${endPoint.y}`,
                    stroke: this.options.outerStrokeColor,
                    strokeWidth: this.options.outerStrokeWidth,
                    strokeLinecap: this.options.outerStrokeLinecap,
                    fill: 'none'
                },
                circle: {
                    cx: centre.x,
                    cy: centre.y,
                    r: this.options.radius - this.options.space - this.options.outerStrokeWidth / 2 - this.options.innerStrokeWidth / 2,
                    fill: 'none',
                    stroke: this.options.innerStrokeColor,
                    strokeWidth: this.options.innerStrokeWidth,
                },
                title: title,
                units: units,
                subtitle: subtitle,
                image: {
                    x: centre.x - this.options.imageWidth / 2,
                    y: centre.y - this.options.imageHeight / 2,
                    src: this.options.imageSrc,
                    width: this.options.imageWidth,
                    height: this.options.imageHeight,
                },
                outerLinearGradient: {
                    id: 'outer-linear-' + this._gradientUUID,
                    colorStop1: this.options.outerStrokeColor,
                    colorStop2: this.options.outerStrokeGradientStopColor === 'transparent' ? '#FFF' : this.options.outerStrokeGradientStopColor,
                },
                radialGradient: {
                    id: 'radial-' + this._gradientUUID,
                    colorStop1: this.options.backgroundColor,
                    colorStop2: this.options.backgroundGradientStopColor === 'transparent' ? '#FFF' : this.options.backgroundGradientStopColor,
                }
            };
        };
        this.getAnimationParameters = (previousPercent, currentPercent) => {
            const MIN_INTERVAL = 10;
            let times, step, interval;
            let fromPercent = this.options.startFromZero ? 0 : (previousPercent < 0 ? 0 : previousPercent);
            let toPercent = currentPercent < 0 ? 0 : this.min(currentPercent, this.options.maxPercent);
            let delta = Math.abs(Math.round(toPercent - fromPercent));
            if (delta >= 100) {
                // we will finish animation in 100 times
                times = 100;
                if (!this.options.animateTitle && !this.options.animateSubtitle) {
                    step = 1;
                }
                else {
                    // show title or subtitle animation even if the arc is full, we also need to finish it in 100 times.
                    step = Math.round(delta / times);
                }
            }
            else {
                // we will finish in as many times as the number of percent.
                times = delta;
                step = 1;
            }
            // Get the interval of timer
            interval = Math.round(this.options.animationDuration / times);
            // Readjust all values if the interval of timer is extremely small.
            if (interval < MIN_INTERVAL) {
                interval = MIN_INTERVAL;
                times = this.options.animationDuration / interval;
                if (!this.options.animateTitle && !this.options.animateSubtitle && delta > 100) {
                    step = Math.round(100 / times);
                }
                else {
                    step = Math.round(delta / times);
                }
            }
            // step must be greater than 0.
            if (step < 1) {
                step = 1;
            }
            return { times: times, step: step, interval: interval };
        };
        this.animate = (previousPercent, currentPercent) => {
            if (this._timerSubscription && !this._timerSubscription.closed) {
                this._timerSubscription.unsubscribe();
            }
            let fromPercent = this.options.startFromZero ? 0 : previousPercent;
            let toPercent = currentPercent;
            let { step: step, interval: interval } = this.getAnimationParameters(fromPercent, toPercent);
            let count = fromPercent;
            if (fromPercent < toPercent) {
                this._timerSubscription = timer(0, interval).subscribe(() => {
                    count += step;
                    if (count <= toPercent) {
                        if (!this.options.animateTitle && !this.options.animateSubtitle && count >= 100) {
                            this.draw(toPercent);
                            this._timerSubscription.unsubscribe();
                        }
                        else {
                            this.draw(count);
                        }
                    }
                    else {
                        this.draw(toPercent);
                        this._timerSubscription.unsubscribe();
                    }
                });
            }
            else {
                this._timerSubscription = timer(0, interval).subscribe(() => {
                    count -= step;
                    if (count >= toPercent) {
                        if (!this.options.animateTitle && !this.options.animateSubtitle && toPercent >= 100) {
                            this.draw(toPercent);
                            this._timerSubscription.unsubscribe();
                        }
                        else {
                            this.draw(count);
                        }
                    }
                    else {
                        this.draw(toPercent);
                        this._timerSubscription.unsubscribe();
                    }
                });
            }
        };
        this.applyOptions = () => {
            // the options of <circle-progress> may change already
            for (let name of Object.keys(this.options)) {
                if (this.hasOwnProperty(name) && this[name] !== undefined) {
                    this.options[name] = this[name];
                }
                else if (this.templateOptions && this.templateOptions[name] !== undefined) {
                    this.options[name] = this.templateOptions[name];
                }
            }
            // make sure key options valid
            this.options.radius = Math.abs(+this.options.radius);
            this.options.space = +this.options.space;
            this.options.percent = +this.options.percent > 0 ? +this.options.percent : 0;
            this.options.maxPercent = Math.abs(+this.options.maxPercent);
            this.options.animationDuration = Math.abs(this.options.animationDuration);
            this.options.outerStrokeWidth = Math.abs(+this.options.outerStrokeWidth);
            this.options.innerStrokeWidth = Math.abs(+this.options.innerStrokeWidth);
            this.options.backgroundPadding = +this.options.backgroundPadding;
        };
        this.getRelativeY = (rowNum, rowCount) => {
            // why '-0.18em'? It's a magic number when property 'alignment-baseline' equals 'baseline'. :)
            let initialOffset = -0.18, offset = 1;
            return (initialOffset + offset * (rowNum - rowCount / 2)).toFixed(2) + 'em';
        };
        this.min = (a, b) => {
            return a < b ? a : b;
        };
        this.max = (a, b) => {
            return a > b ? a : b;
        };
        this.uuid = () => {
            // https://www.w3resource.com/javascript-exercises/javascript-math-exercise-23.php
            var dt = new Date().getTime();
            var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
                var r = (dt + Math.random() * 16) % 16 | 0;
                dt = Math.floor(dt / 16);
                return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);
            });
            return uuid;
        };
        this.checkViewport = () => {
            this.findSvgElement();
            let previousValue = this.isInViewport;
            this.isInViewport = this.isElementInViewport(this.svgElement);
            if (previousValue !== this.isInViewport && this.onViewportChanged.observers.length > 0) {
                this.ngZone.run(() => {
                    this.onViewportChanged.emit({ oldValue: previousValue, newValue: this.isInViewport });
                });
            }
        };
        this.onScroll = (event) => {
            this.checkViewport();
        };
        this.loadEventsForLazyMode = () => {
            if (this.options.lazy) {
                this.ngZone.runOutsideAngular(() => {
                    this.document.addEventListener('scroll', this.onScroll, true);
                    this.window.addEventListener('resize', this.onScroll, true);
                });
                if (this._viewportChangedSubscriber === null) {
                    this._viewportChangedSubscriber = this.onViewportChanged.subscribe(({ oldValue, newValue }) => {
                        newValue ? this.render() : null;
                    });
                }
                // svgElement must be created in DOM before being checked.
                // Is there a better way to check the existence of svgElemnt?
                let _timer = timer(0, 50).subscribe(() => {
                    this.svgElement === null ? this.checkViewport() : _timer.unsubscribe();
                });
            }
        };
        this.unloadEventsForLazyMode = () => {
            // Remove event listeners
            this.document.removeEventListener('scroll', this.onScroll, true);
            this.window.removeEventListener('resize', this.onScroll, true);
            // Unsubscribe onViewportChanged
            if (this._viewportChangedSubscriber !== null) {
                this._viewportChangedSubscriber.unsubscribe();
                this._viewportChangedSubscriber = null;
            }
        };
        this.document = injector.get(DOCUMENT);
        this.window = this.document.defaultView;
        Object.assign(this.options, defaultOptions);
        Object.assign(this.defaultOptions, defaultOptions);
    }
    emitClickEvent(event) {
        if (this.options.renderOnClick) {
            this.animate(0, this.options.percent);
        }
        if (this.onClick.observers.length > 0) {
            this.onClick.emit(event);
        }
    }
    isDrawing() {
        return (this._timerSubscription && !this._timerSubscription.closed);
    }
    findSvgElement() {
        if (this.svgElement === null) {
            let tags = this.elRef.nativeElement.getElementsByTagName('svg');
            if (tags.length > 0) {
                this.svgElement = tags[0];
            }
        }
    }
    isElementInViewport(el) {
        // Return false if el has not been created in page.
        if (el === null || el === undefined)
            return false;
        // Check if the element is out of view due to a container scrolling
        let rect = el.getBoundingClientRect(), parent = el.parentNode, parentRect;
        do {
            parentRect = parent.getBoundingClientRect();
            if (rect.top >= parentRect.bottom)
                return false;
            if (rect.bottom <= parentRect.top)
                return false;
            if (rect.left >= parentRect.right)
                return false;
            if (rect.right <= parentRect.left)
                return false;
            parent = parent.parentNode;
        } while (parent != this.document.body);
        // Check its within the document viewport
        if (rect.top >= (this.window.innerHeight || this.document.documentElement.clientHeight))
            return false;
        if (rect.bottom <= 0)
            return false;
        if (rect.left >= (this.window.innerWidth || this.document.documentElement.clientWidth))
            return false;
        if (rect.right <= 0)
            return false;
        return true;
    }
    ngOnInit() {
        this.loadEventsForLazyMode();
    }
    ngOnDestroy() {
        this.unloadEventsForLazyMode();
    }
    ngOnChanges(changes) {
        this.render();
        if ('lazy' in changes) {
            changes.lazy.currentValue ? this.loadEventsForLazyMode() : this.unloadEventsForLazyMode();
        }
    }
}
CircleProgressComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: CircleProgressComponent, deps: [{ token: CircleProgressOptions }, { token: i0.NgZone }, { token: i0.ElementRef }, { token: i0.Injector }], target: i0.ɵɵFactoryTarget.Component });
CircleProgressComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: CircleProgressComponent, selector: "circle-progress", inputs: { name: "name", class: "class", backgroundGradient: "backgroundGradient", backgroundColor: "backgroundColor", backgroundGradientStopColor: "backgroundGradientStopColor", backgroundOpacity: "backgroundOpacity", backgroundStroke: "backgroundStroke", backgroundStrokeWidth: "backgroundStrokeWidth", backgroundPadding: "backgroundPadding", radius: "radius", space: "space", percent: "percent", toFixed: "toFixed", maxPercent: "maxPercent", renderOnClick: "renderOnClick", units: "units", unitsFontSize: "unitsFontSize", unitsFontWeight: "unitsFontWeight", unitsColor: "unitsColor", outerStrokeGradient: "outerStrokeGradient", outerStrokeWidth: "outerStrokeWidth", outerStrokeColor: "outerStrokeColor", outerStrokeGradientStopColor: "outerStrokeGradientStopColor", outerStrokeLinecap: "outerStrokeLinecap", innerStrokeColor: "innerStrokeColor", innerStrokeWidth: "innerStrokeWidth", titleFormat: "titleFormat", title: "title", titleColor: "titleColor", titleFontSize: "titleFontSize", titleFontWeight: "titleFontWeight", subtitleFormat: "subtitleFormat", subtitle: "subtitle", subtitleColor: "subtitleColor", subtitleFontSize: "subtitleFontSize", subtitleFontWeight: "subtitleFontWeight", imageSrc: "imageSrc", imageHeight: "imageHeight", imageWidth: "imageWidth", animation: "animation", animateTitle: "animateTitle", animateSubtitle: "animateSubtitle", animationDuration: "animationDuration", showTitle: "showTitle", showSubtitle: "showSubtitle", showUnits: "showUnits", showImage: "showImage", showBackground: "showBackground", showInnerStroke: "showInnerStroke", clockwise: "clockwise", responsive: "responsive", startFromZero: "startFromZero", showZeroOuterStroke: "showZeroOuterStroke", lazy: "lazy", templateOptions: ["options", "templateOptions"] }, outputs: { onClick: "onClick" }, usesOnChanges: true, ngImport: i0, template: `
        <svg xmlns="http://www.w3.org/2000/svg" *ngIf="svg"
             [attr.viewBox]="svg.viewBox" preserveAspectRatio="xMidYMid meet"
             [attr.height]="svg.height" [attr.width]="svg.width" (click)="emitClickEvent($event)" [attr.class]="options.class">
            <defs>
                <linearGradient *ngIf="options.outerStrokeGradient" [attr.id]="svg.outerLinearGradient.id">
                    <stop offset="5%" [attr.stop-color]="svg.outerLinearGradient.colorStop1"  [attr.stop-opacity]="1"/>
                    <stop offset="95%" [attr.stop-color]="svg.outerLinearGradient.colorStop2" [attr.stop-opacity]="1"/>
                </linearGradient>
                <radialGradient *ngIf="options.backgroundGradient" [attr.id]="svg.radialGradient.id">
                    <stop offset="5%" [attr.stop-color]="svg.radialGradient.colorStop1" [attr.stop-opacity]="1"/>
                    <stop offset="95%" [attr.stop-color]="svg.radialGradient.colorStop2" [attr.stop-opacity]="1"/>
                </radialGradient>
            </defs>
            <ng-container *ngIf="options.showBackground">
                <circle *ngIf="!options.backgroundGradient"
                        [attr.cx]="svg.backgroundCircle.cx"
                        [attr.cy]="svg.backgroundCircle.cy"
                        [attr.r]="svg.backgroundCircle.r"
                        [attr.fill]="svg.backgroundCircle.fill"
                        [attr.fill-opacity]="svg.backgroundCircle.fillOpacity"
                        [attr.stroke]="svg.backgroundCircle.stroke"
                        [attr.stroke-width]="svg.backgroundCircle.strokeWidth"/>
                <circle *ngIf="options.backgroundGradient"
                        [attr.cx]="svg.backgroundCircle.cx"
                        [attr.cy]="svg.backgroundCircle.cy"
                        [attr.r]="svg.backgroundCircle.r"
                        attr.fill="url({{window.location.href}}#{{svg.radialGradient.id}})"
                        [attr.fill-opacity]="svg.backgroundCircle.fillOpacity"
                        [attr.stroke]="svg.backgroundCircle.stroke"
                        [attr.stroke-width]="svg.backgroundCircle.strokeWidth"/>
            </ng-container>            
            <circle *ngIf="options.showInnerStroke"
                    [attr.cx]="svg.circle.cx"
                    [attr.cy]="svg.circle.cy"
                    [attr.r]="svg.circle.r"
                    [attr.fill]="svg.circle.fill"
                    [attr.stroke]="svg.circle.stroke"
                    [attr.stroke-width]="svg.circle.strokeWidth"/>
            <ng-container *ngIf="+options.percent!==0 || options.showZeroOuterStroke">
                <path *ngIf="!options.outerStrokeGradient"
                        [attr.d]="svg.path.d"
                        [attr.stroke]="svg.path.stroke"
                        [attr.stroke-width]="svg.path.strokeWidth"
                        [attr.stroke-linecap]="svg.path.strokeLinecap"
                        [attr.fill]="svg.path.fill"/>
                <path *ngIf="options.outerStrokeGradient"
                        [attr.d]="svg.path.d"
                        attr.stroke="url({{window.location.href}}#{{svg.outerLinearGradient.id}})"
                        [attr.stroke-width]="svg.path.strokeWidth"
                        [attr.stroke-linecap]="svg.path.strokeLinecap"
                        [attr.fill]="svg.path.fill"/>
            </ng-container>
            <text *ngIf="!options.showImage && (options.showTitle || options.showUnits || options.showSubtitle)"
                  alignment-baseline="baseline"
                  [attr.x]="svg.circle.cx"
                  [attr.y]="svg.circle.cy"
                  [attr.text-anchor]="svg.title.textAnchor">
                <ng-container *ngIf="options.showTitle">
                    <tspan *ngFor="let tspan of svg.title.tspans"
                           [attr.x]="svg.title.x"
                           [attr.y]="svg.title.y"
                           [attr.dy]="tspan.dy"
                           [attr.font-size]="svg.title.fontSize"
                           [attr.font-weight]="svg.title.fontWeight"
                           [attr.fill]="svg.title.color">{{tspan.span}}</tspan>
                </ng-container>
                <tspan *ngIf="options.showUnits"
                       [attr.font-size]="svg.units.fontSize"
                       [attr.font-weight]="svg.units.fontWeight"
                       [attr.fill]="svg.units.color">{{svg.units.text}}</tspan>
                <ng-container *ngIf="options.showSubtitle">
                    <tspan *ngFor="let tspan of svg.subtitle.tspans"
                           [attr.x]="svg.subtitle.x"
                           [attr.y]="svg.subtitle.y"
                           [attr.dy]="tspan.dy"
                           [attr.font-size]="svg.subtitle.fontSize"
                           [attr.font-weight]="svg.subtitle.fontWeight"
                           [attr.fill]="svg.subtitle.color">{{tspan.span}}</tspan>
                </ng-container>
            </text>
            <image *ngIf="options.showImage" preserveAspectRatio="none" 
                [attr.height]="svg.image.height"
                [attr.width]="svg.image.width"
                [attr.xlink:href]="svg.image.src"
                [attr.x]="svg.image.x"
                [attr.y]="svg.image.y"
            />
        </svg>
    `, isInline: true, dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: CircleProgressComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'circle-progress',
                    template: `
        <svg xmlns="http://www.w3.org/2000/svg" *ngIf="svg"
             [attr.viewBox]="svg.viewBox" preserveAspectRatio="xMidYMid meet"
             [attr.height]="svg.height" [attr.width]="svg.width" (click)="emitClickEvent($event)" [attr.class]="options.class">
            <defs>
                <linearGradient *ngIf="options.outerStrokeGradient" [attr.id]="svg.outerLinearGradient.id">
                    <stop offset="5%" [attr.stop-color]="svg.outerLinearGradient.colorStop1"  [attr.stop-opacity]="1"/>
                    <stop offset="95%" [attr.stop-color]="svg.outerLinearGradient.colorStop2" [attr.stop-opacity]="1"/>
                </linearGradient>
                <radialGradient *ngIf="options.backgroundGradient" [attr.id]="svg.radialGradient.id">
                    <stop offset="5%" [attr.stop-color]="svg.radialGradient.colorStop1" [attr.stop-opacity]="1"/>
                    <stop offset="95%" [attr.stop-color]="svg.radialGradient.colorStop2" [attr.stop-opacity]="1"/>
                </radialGradient>
            </defs>
            <ng-container *ngIf="options.showBackground">
                <circle *ngIf="!options.backgroundGradient"
                        [attr.cx]="svg.backgroundCircle.cx"
                        [attr.cy]="svg.backgroundCircle.cy"
                        [attr.r]="svg.backgroundCircle.r"
                        [attr.fill]="svg.backgroundCircle.fill"
                        [attr.fill-opacity]="svg.backgroundCircle.fillOpacity"
                        [attr.stroke]="svg.backgroundCircle.stroke"
                        [attr.stroke-width]="svg.backgroundCircle.strokeWidth"/>
                <circle *ngIf="options.backgroundGradient"
                        [attr.cx]="svg.backgroundCircle.cx"
                        [attr.cy]="svg.backgroundCircle.cy"
                        [attr.r]="svg.backgroundCircle.r"
                        attr.fill="url({{window.location.href}}#{{svg.radialGradient.id}})"
                        [attr.fill-opacity]="svg.backgroundCircle.fillOpacity"
                        [attr.stroke]="svg.backgroundCircle.stroke"
                        [attr.stroke-width]="svg.backgroundCircle.strokeWidth"/>
            </ng-container>            
            <circle *ngIf="options.showInnerStroke"
                    [attr.cx]="svg.circle.cx"
                    [attr.cy]="svg.circle.cy"
                    [attr.r]="svg.circle.r"
                    [attr.fill]="svg.circle.fill"
                    [attr.stroke]="svg.circle.stroke"
                    [attr.stroke-width]="svg.circle.strokeWidth"/>
            <ng-container *ngIf="+options.percent!==0 || options.showZeroOuterStroke">
                <path *ngIf="!options.outerStrokeGradient"
                        [attr.d]="svg.path.d"
                        [attr.stroke]="svg.path.stroke"
                        [attr.stroke-width]="svg.path.strokeWidth"
                        [attr.stroke-linecap]="svg.path.strokeLinecap"
                        [attr.fill]="svg.path.fill"/>
                <path *ngIf="options.outerStrokeGradient"
                        [attr.d]="svg.path.d"
                        attr.stroke="url({{window.location.href}}#{{svg.outerLinearGradient.id}})"
                        [attr.stroke-width]="svg.path.strokeWidth"
                        [attr.stroke-linecap]="svg.path.strokeLinecap"
                        [attr.fill]="svg.path.fill"/>
            </ng-container>
            <text *ngIf="!options.showImage && (options.showTitle || options.showUnits || options.showSubtitle)"
                  alignment-baseline="baseline"
                  [attr.x]="svg.circle.cx"
                  [attr.y]="svg.circle.cy"
                  [attr.text-anchor]="svg.title.textAnchor">
                <ng-container *ngIf="options.showTitle">
                    <tspan *ngFor="let tspan of svg.title.tspans"
                           [attr.x]="svg.title.x"
                           [attr.y]="svg.title.y"
                           [attr.dy]="tspan.dy"
                           [attr.font-size]="svg.title.fontSize"
                           [attr.font-weight]="svg.title.fontWeight"
                           [attr.fill]="svg.title.color">{{tspan.span}}</tspan>
                </ng-container>
                <tspan *ngIf="options.showUnits"
                       [attr.font-size]="svg.units.fontSize"
                       [attr.font-weight]="svg.units.fontWeight"
                       [attr.fill]="svg.units.color">{{svg.units.text}}</tspan>
                <ng-container *ngIf="options.showSubtitle">
                    <tspan *ngFor="let tspan of svg.subtitle.tspans"
                           [attr.x]="svg.subtitle.x"
                           [attr.y]="svg.subtitle.y"
                           [attr.dy]="tspan.dy"
                           [attr.font-size]="svg.subtitle.fontSize"
                           [attr.font-weight]="svg.subtitle.fontWeight"
                           [attr.fill]="svg.subtitle.color">{{tspan.span}}</tspan>
                </ng-container>
            </text>
            <image *ngIf="options.showImage" preserveAspectRatio="none" 
                [attr.height]="svg.image.height"
                [attr.width]="svg.image.width"
                [attr.xlink:href]="svg.image.src"
                [attr.x]="svg.image.x"
                [attr.y]="svg.image.y"
            />
        </svg>
    `
                }]
        }], ctorParameters: function () { return [{ type: CircleProgressOptions }, { type: i0.NgZone }, { type: i0.ElementRef }, { type: i0.Injector }]; }, propDecorators: { onClick: [{
                type: Output
            }], name: [{
                type: Input
            }], class: [{
                type: Input
            }], backgroundGradient: [{
                type: Input
            }], backgroundColor: [{
                type: Input
            }], backgroundGradientStopColor: [{
                type: Input
            }], backgroundOpacity: [{
                type: Input
            }], backgroundStroke: [{
                type: Input
            }], backgroundStrokeWidth: [{
                type: Input
            }], backgroundPadding: [{
                type: Input
            }], radius: [{
                type: Input
            }], space: [{
                type: Input
            }], percent: [{
                type: Input
            }], toFixed: [{
                type: Input
            }], maxPercent: [{
                type: Input
            }], renderOnClick: [{
                type: Input
            }], units: [{
                type: Input
            }], unitsFontSize: [{
                type: Input
            }], unitsFontWeight: [{
                type: Input
            }], unitsColor: [{
                type: Input
            }], outerStrokeGradient: [{
                type: Input
            }], outerStrokeWidth: [{
                type: Input
            }], outerStrokeColor: [{
                type: Input
            }], outerStrokeGradientStopColor: [{
                type: Input
            }], outerStrokeLinecap: [{
                type: Input
            }], innerStrokeColor: [{
                type: Input
            }], innerStrokeWidth: [{
                type: Input
            }], titleFormat: [{
                type: Input
            }], title: [{
                type: Input
            }], titleColor: [{
                type: Input
            }], titleFontSize: [{
                type: Input
            }], titleFontWeight: [{
                type: Input
            }], subtitleFormat: [{
                type: Input
            }], subtitle: [{
                type: Input
            }], subtitleColor: [{
                type: Input
            }], subtitleFontSize: [{
                type: Input
            }], subtitleFontWeight: [{
                type: Input
            }], imageSrc: [{
                type: Input
            }], imageHeight: [{
                type: Input
            }], imageWidth: [{
                type: Input
            }], animation: [{
                type: Input
            }], animateTitle: [{
                type: Input
            }], animateSubtitle: [{
                type: Input
            }], animationDuration: [{
                type: Input
            }], showTitle: [{
                type: Input
            }], showSubtitle: [{
                type: Input
            }], showUnits: [{
                type: Input
            }], showImage: [{
                type: Input
            }], showBackground: [{
                type: Input
            }], showInnerStroke: [{
                type: Input
            }], clockwise: [{
                type: Input
            }], responsive: [{
                type: Input
            }], startFromZero: [{
                type: Input
            }], showZeroOuterStroke: [{
                type: Input
            }], lazy: [{
                type: Input
            }], templateOptions: [{
                type: Input,
                args: ['options']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctY2lyY2xlLXByb2dyZXNzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25nLWNpcmNsZS1wcm9ncmVzcy9zcmMvbGliL25nLWNpcmNsZS1wcm9ncmVzcy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFhLE1BQU0sRUFBa0UsTUFBTSxlQUFlLENBQUM7QUFDbEosT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBZ0IsS0FBSyxFQUFFLE1BQU0sTUFBTSxDQUFDOzs7QUEwRDNDLE1BQU0sT0FBTyxxQkFBcUI7SUFBbEM7UUFDSSxVQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ1gsdUJBQWtCLEdBQUcsS0FBSyxDQUFDO1FBQzNCLG9CQUFlLEdBQUcsYUFBYSxDQUFDO1FBQ2hDLGdDQUEyQixHQUFHLGFBQWEsQ0FBQztRQUM1QyxzQkFBaUIsR0FBRyxDQUFDLENBQUM7UUFDdEIscUJBQWdCLEdBQUcsYUFBYSxDQUFDO1FBQ2pDLDBCQUFxQixHQUFHLENBQUMsQ0FBQztRQUMxQixzQkFBaUIsR0FBRyxDQUFDLENBQUM7UUFDdEIsWUFBTyxHQUFHLENBQUMsQ0FBQztRQUNaLFdBQU0sR0FBRyxFQUFFLENBQUM7UUFDWixVQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsWUFBTyxHQUFHLENBQUMsQ0FBQztRQUNaLGVBQVUsR0FBRyxJQUFJLENBQUM7UUFDbEIsa0JBQWEsR0FBRyxJQUFJLENBQUM7UUFDckIsVUFBSyxHQUFHLEdBQUcsQ0FBQztRQUNaLGtCQUFhLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLG9CQUFlLEdBQUcsUUFBUSxDQUFDO1FBQzNCLGVBQVUsR0FBRyxTQUFTLENBQUM7UUFDdkIsd0JBQW1CLEdBQUcsS0FBSyxDQUFDO1FBQzVCLHFCQUFnQixHQUFHLENB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QjtzQkFBM0IsS0FBSztnQkFFRyxJQUFJO3NCQUFaLEtBQUs7Z0JBRVksZUFBZTtzQkFBaEMsS0FBSzt1QkFBQyxTQUFTIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkNoYW5nZXMsIE91dHB1dCwgT25Jbml0LCBPbkRlc3Ryb3ksIEVsZW1lbnRSZWYsIFNpbXBsZUNoYW5nZXMsIE5nWm9uZSwgSW5qZWN0b3IgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xyXG5pbXBvcnQgeyBTdWJzY3JpcHRpb24sIHRpbWVyIH0gZnJvbSAncnhqcyc7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENpcmNsZVByb2dyZXNzT3B0aW9uc0ludGVyZmFjZSB7XHJcbiAgICBjbGFzcz86IHN0cmluZztcclxuICAgIGJhY2tncm91bmRHcmFkaWVudD86IGJvb2xlYW47XHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I/OiBzdHJpbmc7XHJcbiAgICBiYWNrZ3JvdW5kR3JhZGllbnRTdG9wQ29sb3I/OiBzdHJpbmc7XHJcbiAgICBiYWNrZ3JvdW5kT3BhY2l0eT86IG51bWJlcjtcclxuICAgIGJhY2tncm91bmRTdHJva2U/OiBzdHJpbmc7XHJcbiAgICBiYWNrZ3JvdW5kU3Ryb2tlV2lkdGg/OiBudW1iZXI7XHJcbiAgICBiYWNrZ3JvdW5kUGFkZGluZz86IG51bWJlcjtcclxuICAgIHBlcmNlbnQ/OiBudW1iZXI7XHJcbiAgICByYWRpdXM/OiBudW1iZXI7XHJcbiAgICBzcGFjZT86IG51bWJlcjtcclxuICAgIHRvRml4ZWQ/OiBudW1iZXI7XHJcbiAgICBtYXhQZXJjZW50PzogbnVtYmVyO1xyXG4gICAgcmVuZGVyT25DbGljaz86IGJvb2xlYW47XHJcbiAgICB1bml0cz86IHN0cmluZztcclxuICAgIHVuaXRzRm9udFNpemU/OiBzdHJpbmc7XHJcbiAgICB1bml0c0ZvbnRXZWlnaHQ/OiBzdHJpbmc7XHJcbiAgICB1bml0c0NvbG9yPzogc3RyaW5nO1xyXG4gICAgb3V0ZXJTdHJva2VHcmFkaWVudD86IGJvb2xlYW47XHJcbiAgICBvdXRlclN0cm9rZVdpZHRoPzogbnVtYmVyO1xyXG4gICAgb3V0ZXJTdHJva2VDb2xvcj86IHN0cmluZztcclxuICAgIG91dGVyU3Ryb2tlR3JhZGllbnRTdG9wQ29sb3I/OiBzdHJpbmc7XHJcbiAgICBvdXRlclN0cm9rZUxpbmVjYXA/OiBzdHJpbmc7XHJcbiAgICBpbm5lclN0cm9rZUNvbG9yPzogc3RyaW5nO1xyXG4gICAgaW5uZXJTdHJva2VXaWR0aD86IG51bWJlcjtcclxuICAgIHRpdGxlRm9ybWF0PzogRnVuY3Rpb247XHJcbiAgICB0aXRsZT86IHN0cmluZyB8IEFycmF5PFN0cmluZz47XHJcbiAgICB0aXRsZUNvbG9yPzogc3RyaW5nO1xyXG4gICAgdGl0bGVGb250U2l6ZT86IHN0cmluZztcclxuICAgIHRpdGxlRm9udFdlaWdodD86IHN0cmluZztcclxuICAgIHN1YnRpdGxlRm9ybWF0PzogRnVuY3Rpb247XHJcbiAgICBzdWJ0aXRsZT86IHN0cmluZyB8IEFycmF5PFN0cmluZz47XHJcbiAgICBzdWJ0aXRsZUNvbG9yPzogc3RyaW5nO1xyXG4gICAgc3VidGl0bGVGb250U2l6ZT86IHN0cmluZztcclxuICAgIHN1YnRpdGxlRm9udFdlaWdodD86IHN0cmluZztcclxuICAgIGltYWdlU3JjPzogc3RyaW5nO1xyXG4gICAgaW1hZ2VIZWlnaHQ/OiBudW1iZXI7XHJcbiAgICBpbWFnZVdpZHRoPzogbnVtYmVyO1xyXG4gICAgYW5pbWF0aW9uPzogYm9vbGVhbjtcclxuICAgIGFuaW1hdGVUaXRsZT86IGJvb2xlYW47XHJcbiAgICBhbmltYXRlU3VidGl0bGU/OiBib29sZWFuO1xyXG4gICAgYW5pbWF0aW9uRHVyYXRpb24/OiBudW1iZXI7XHJcbiAgICBzaG93VGl0bGU/OiBib29sZWFuO1xyXG4gICAgc2hvd1N1YnRpdGxlPzogYm9vbGVhbjtcclxuICAgIHNob3dVbml0cz86IGJvb2xlYW47XHJcbiAgICBzaG93SW1hZ2U/OiBib29sZWFuO1xyXG4gICAgc2hvd0JhY2tncm91bmQ/OiBib29sZWFuO1xyXG4gICAgc2hvd0lubmVyU3Ryb2tlPzogYm9vbGVhbjtcclxuICAgIGNsb2Nrd2lzZT86IGJvb2xlYW47XHJcbiAgICByZXNwb25zaXZlPzogYm9vbGVhbjtcclxuICAgIHN0YXJ0RnJvbVplcm8/OiBib29sZWFuO1xyXG4gICAgc2hvd1plcm9PdXRlclN0cm9rZT86IGJvb2xlYW47XHJcbiAgICBsYXp5PzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENpcmNsZVByb2dyZXNzT3B0aW9ucyBpbXBsZW1lbnRzIENpcmNsZVByb2dyZXNzT3B0aW9uc0ludGVyZmFjZSB7XHJcbiAgICBjbGFzcyA9ICcnO1xyXG4gICAgYmFja2dyb3VuZEdyYWRpZW50ID0gZmFsc2U7XHJcbiAgICBiYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgYmFja2dyb3VuZEdyYWRpZW50U3RvcENvbG9yID0gJ3RyYW5zcGFyZW50JztcclxuICAgIGJhY2tncm91bmRPcGFjaXR5ID0gMTtcclxuICAgIGJhY2tncm91bmRTdHJva2UgPSAndHJhbnNwYXJlbnQnO1xyXG4gICAgYmFja2dyb3VuZFN0cm9rZVdpZHRoID0gMDtcclxuICAgIGJhY2tncm91bmRQYWRkaW5nID0gNTtcclxuICAgIHBlcmNlbnQgPSAwO1xyXG4gICAgcmFkaXVzID0gOTA7XHJcbiAgICBzcGFjZSA9IDQ7XHJcbiAgICB0b0ZpeGVkID0gMDtcclxuICAgIG1heFBlcmNlbnQgPSAxMDAwO1xyXG4gICAgcmVuZGVyT25DbGljayA9IHRydWU7XHJcbiAgICB1bml0cyA9ICclJztcclxuICAgIHVuaXRzRm9udFNpemUgPSAnMTAnO1xyXG4gICAgdW5pdHNGb250V2VpZ2h0ID0gJ25vcm1hbCc7XHJcbiAgICB1bml0c0NvbG9yID0gJyM0NDQ0NDQnO1xyXG4gICAgb3V0ZXJTdHJva2VHcmFkaWVudCA9IGZhbHNlO1xyXG4gICAgb3V0ZXJTdHJva2VXaWR0aCA9IDg7XHJcbiAgICBvdXRlclN0cm9rZUNvbG9yID0gJyM3OEMwMDAnO1xyXG4gICAgb3V0ZXJTdHJva2VHcmFkaWVudFN0b3BDb2xvciA9ICd0cmFuc3BhcmVudCc7XHJcbiAgICBvdXRlclN0cm9rZUxpbmVjYXAgPSAncm91bmQnO1xyXG4gICAgaW5uZXJTdHJva2VDb2xvciA9ICcjQzdFNTk2JztcclxuICAgIGlubmVyU3Ryb2tlV2lkdGggPSA0O1xyXG4gICAgdGl0bGVGb3JtYXQgPSB1bmRlZmluZWQ7XHJcbiAgICB0aXRsZTogc3RyaW5nIHwgQXJyYXk8U3RyaW5nPiA9ICdhdXRvJztcclxuICAgIHRpdGxlQ29sb3IgPSAnIzQ0NDQ0NCc7XHJcbiAgICB0aXRsZUZvbnRTaXplID0gJzIwJztcclxuICAgIHRpdGxlRm9udFdlaWdodCA9ICdub3JtYWwnO1xyXG4gICAgc3VidGl0bGVGb3JtYXQgPSB1bmRlZmluZWQ7XHJcbiAgICBzdWJ0aXRsZTogc3RyaW5nIHwgQXJyYXk8U3RyaW5nPiA9ICdwcm9ncmVzcyc7XHJcbiAgICBzdWJ0aXRsZUNvbG9yID0gJyNBOUE5QTknO1xyXG4gICAgc3VidGl0bGVGb250U2l6ZSA9ICcxMCc7XHJcbiAgICBzdWJ0aXRsZUZvbnRXZWlnaHQgPSAnbm9ybWFsJztcclxuICAgIGltYWdlU3JjID0gdW5kZWZpbmVkO1xyXG4gICAgaW1hZ2VIZWlnaHQgPSAwO1xyXG4gICAgaW1hZ2VXaWR0aCA9IDA7XHJcbiAgICBhbmltYXRpb24gPSB0cnVlO1xyXG4gICAgYW5pbWF0ZVRpdGxlID0gdHJ1ZTtcclxuICAgIGFuaW1hdGVTdWJ0aXRsZSA9IGZhbHNlO1xyXG4gICAgYW5pbWF0aW9uRHVyYXRpb24gPSA1MDA7XHJcbiAgICBzaG93VGl0bGUgPSB0cnVlO1xyXG4gICAgc2hvd1N1YnRpdGxlID0gdHJ1ZTtcclxuICAgIHNob3dVbml0cyA9IHRydWU7XHJcbiAgICBzaG93SW1hZ2UgPSBmYWxzZTtcclxuICAgIHNob3dCYWNrZ3JvdW5kID0gdHJ1ZTtcclxuICAgIHNob3dJbm5lclN0cm9rZSA9IHRydWU7XHJcbiAgICBjbG9ja3dpc2UgPSB0cnVlO1xyXG4gICAgcmVzcG9uc2l2ZSA9IGZhbHNlO1xyXG4gICAgc3RhcnRGcm9tWmVybyA9IHRydWU7XHJcbiAgICBzaG93WmVyb091dGVyU3Ryb2tlID0gdHJ1ZTtcclxuICAgIGxhenkgPSBmYWxzZTtcclxufVxyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgICBzZWxlY3RvcjogJ2NpcmNsZS1wcm9ncmVzcycsXHJcbiAgICB0ZW1wbGF0ZTogYFxyXG4gICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiICpuZ0lmPVwic3ZnXCJcclxuICAgICAgICAgICAgIFthdHRyLnZpZXdCb3hdPVwic3ZnLnZpZXdCb3hcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiXHJcbiAgICAgICAgICAgICBbYXR0ci5oZWlnaHRdPVwic3ZnLmhlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Zy53aWR0aFwiIChjbGljayk9XCJlbWl0Q2xpY2tFdmVudCgkZXZlbnQpXCIgW2F0dHIuY2xhc3NdPVwib3B0aW9ucy5jbGFzc1wiPlxyXG4gICAgICAgICAgICA8ZGVmcz5cclxuICAgICAgICAgICAgICAgIDxsaW5lYXJHcmFkaWVudCAqbmdJZj1cIm9wdGlvbnMub3V0ZXJTdHJva2VHcmFkaWVudFwiIFthdHRyLmlkXT1cInN2Zy5vdXRlckxpbmVhckdyYWRpZW50LmlkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiNSVcIiBbYXR0ci5zdG9wLWNvbG9yXT1cInN2Zy5vdXRlckxpbmVhckdyYWRpZW50LmNvbG9yU3RvcDFcIiAgW2F0dHIuc3RvcC1vcGFjaXR5XT1cIjFcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PVwiOTUlXCIgW2F0dHIuc3RvcC1jb2xvcl09XCJzdmcub3V0ZXJMaW5lYXJHcmFkaWVudC5jb2xvclN0b3AyXCIgW2F0dHIuc3RvcC1vcGFjaXR5XT1cIjFcIi8+XHJcbiAgICAgICAgICAgICAgICA8L2xpbmVhckdyYWRpZW50PlxyXG4gICAgICAgICAgICAgICAgPHJhZGlhbEdyYWRpZW50ICpuZ0lmPVwib3B0aW9ucy5iYWNrZ3JvdW5kR3JhZGllbnRcIiBbYXR0ci5pZF09XCJzdmcucmFkaWFsR3JhZGllbnQuaWRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCI1JVwiIFthdHRyLnN0b3AtY29sb3JdPVwic3ZnLnJhZGlhbEdyYWRpZW50LmNvbG9yU3RvcDFcIiBbYXR0ci5zdG9wLW9wYWNpdHldPVwiMVwiLz5cclxuICAgICAgICAgICAgICAgICAgICA8c3RvcCBvZmZzZXQ9XCI5NSVcIiBbYXR0ci5zdG9wLWNvbG9yXT1cInN2Zy5yYWRpYWxHcmFkaWVudC5jb2xvclN0b3AyXCIgW2F0dHIuc3RvcC1vcGFjaXR5XT1cIjFcIi8+XHJcbiAgICAgICAgICAgICAgICA8L3JhZGlhbEdyYWRpZW50PlxyXG4gICAgICAgICAgICA8L2RlZnM+XHJcbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJvcHRpb25zLnNob3dCYWNrZ3JvdW5kXCI+XHJcbiAgICAgICAgICAgICAgICA8Y2lyY2xlICpuZ0lmPVwiIW9wdGlvbnMuYmFja2dyb3VuZEdyYWRpZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuY3hdPVwic3ZnLmJhY2tncm91bmRDaXJjbGUuY3hcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5jeV09XCJzdmcuYmFja2dyb3VuZENpcmNsZS5jeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLnJdPVwic3ZnLmJhY2tncm91bmRDaXJjbGUuclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmZpbGxdPVwic3ZnLmJhY2tncm91bmRDaXJjbGUuZmlsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmZpbGwtb3BhY2l0eV09XCJzdmcuYmFja2dyb3VuZENpcmNsZS5maWxsT3BhY2l0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLnN0cm9rZV09XCJzdmcuYmFja2dyb3VuZENpcmNsZS5zdHJva2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5zdHJva2Utd2lkdGhdPVwic3ZnLmJhY2tncm91bmRDaXJjbGUuc3Ryb2tlV2lkdGhcIi8+XHJcbiAgICAgICAgICAgICAgICA8Y2lyY2xlICpuZ0lmPVwib3B0aW9ucy5iYWNrZ3JvdW5kR3JhZGllbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5jeF09XCJzdmcuYmFja2dyb3VuZENpcmNsZS5jeFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmN5XT1cInN2Zy5iYWNrZ3JvdW5kQ2lyY2xlLmN5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIucl09XCJzdmcuYmFja2dyb3VuZENpcmNsZS5yXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ci5maWxsPVwidXJsKHt7d2luZG93LmxvY2F0aW9uLmhyZWZ9fSN7e3N2Zy5yYWRpYWxHcmFkaWVudC5pZH19KVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmZpbGwtb3BhY2l0eV09XCJzdmcuYmFja2dyb3VuZENpcmNsZS5maWxsT3BhY2l0eVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLnN0cm9rZV09XCJzdmcuYmFja2dyb3VuZENpcmNsZS5zdHJva2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5zdHJva2Utd2lkdGhdPVwic3ZnLmJhY2tncm91bmRDaXJjbGUuc3Ryb2tlV2lkdGhcIi8+XHJcbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICA8Y2lyY2xlICpuZ0lmPVwib3B0aW9ucy5zaG93SW5uZXJTdHJva2VcIlxyXG4gICAgICAgICAgICAgICAgICAgIFthdHRyLmN4XT1cInN2Zy5jaXJjbGUuY3hcIlxyXG4gICAgICAgICAgICAgICAgICAgIFthdHRyLmN5XT1cInN2Zy5jaXJjbGUuY3lcIlxyXG4gICAgICAgICAgICAgICAgICAgIFthdHRyLnJdPVwic3ZnLmNpcmNsZS5yXCJcclxuICAgICAgICAgICAgICAgICAgICBbYXR0ci5maWxsXT1cInN2Zy5jaXJjbGUuZmlsbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgW2F0dHIuc3Ryb2tlXT1cInN2Zy5jaXJjbGUuc3Ryb2tlXCJcclxuICAgICAgICAgICAgICAgICAgICBbYXR0ci5zdHJva2Utd2lkdGhdPVwic3ZnLmNpcmNsZS5zdHJva2VXaWR0aFwiLz5cclxuICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIitvcHRpb25zLnBlcmNlbnQhPT0wIHx8IG9wdGlvbnMuc2hvd1plcm9PdXRlclN0cm9rZVwiPlxyXG4gICAgICAgICAgICAgICAgPHBhdGggKm5nSWY9XCIhb3B0aW9ucy5vdXRlclN0cm9rZUdyYWRpZW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuZF09XCJzdmcucGF0aC5kXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuc3Ryb2tlXT1cInN2Zy5wYXRoLnN0cm9rZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLnN0cm9rZS13aWR0aF09XCJzdmcucGF0aC5zdHJva2VXaWR0aFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLnN0cm9rZS1saW5lY2FwXT1cInN2Zy5wYXRoLnN0cm9rZUxpbmVjYXBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5maWxsXT1cInN2Zy5wYXRoLmZpbGxcIi8+XHJcbiAgICAgICAgICAgICAgICA8cGF0aCAqbmdJZj1cIm9wdGlvbnMub3V0ZXJTdHJva2VHcmFkaWVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmRdPVwic3ZnLnBhdGguZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHIuc3Ryb2tlPVwidXJsKHt7d2luZG93LmxvY2F0aW9uLmhyZWZ9fSN7e3N2Zy5vdXRlckxpbmVhckdyYWRpZW50LmlkfX0pXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuc3Ryb2tlLXdpZHRoXT1cInN2Zy5wYXRoLnN0cm9rZVdpZHRoXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuc3Ryb2tlLWxpbmVjYXBdPVwic3ZnLnBhdGguc3Ryb2tlTGluZWNhcFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmZpbGxdPVwic3ZnLnBhdGguZmlsbFwiLz5cclxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgIDx0ZXh0ICpuZ0lmPVwiIW9wdGlvbnMuc2hvd0ltYWdlICYmIChvcHRpb25zLnNob3dUaXRsZSB8fCBvcHRpb25zLnNob3dVbml0cyB8fCBvcHRpb25zLnNob3dTdWJ0aXRsZSlcIlxyXG4gICAgICAgICAgICAgICAgICBhbGlnbm1lbnQtYmFzZWxpbmU9XCJiYXNlbGluZVwiXHJcbiAgICAgICAgICAgICAgICAgIFthdHRyLnhdPVwic3ZnLmNpcmNsZS5jeFwiXHJcbiAgICAgICAgICAgICAgICAgIFthdHRyLnldPVwic3ZnLmNpcmNsZS5jeVwiXHJcbiAgICAgICAgICAgICAgICAgIFthdHRyLnRleHQtYW5jaG9yXT1cInN2Zy50aXRsZS50ZXh0QW5jaG9yXCI+XHJcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwib3B0aW9ucy5zaG93VGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8dHNwYW4gKm5nRm9yPVwibGV0IHRzcGFuIG9mIHN2Zy50aXRsZS50c3BhbnNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci54XT1cInN2Zy50aXRsZS54XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIueV09XCJzdmcudGl0bGUueVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmR5XT1cInRzcGFuLmR5XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuZm9udC1zaXplXT1cInN2Zy50aXRsZS5mb250U2l6ZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmZvbnQtd2VpZ2h0XT1cInN2Zy50aXRsZS5mb250V2VpZ2h0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuZmlsbF09XCJzdmcudGl0bGUuY29sb3JcIj57e3RzcGFuLnNwYW59fTwvdHNwYW4+XHJcbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgIDx0c3BhbiAqbmdJZj1cIm9wdGlvbnMuc2hvd1VuaXRzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5mb250LXNpemVdPVwic3ZnLnVuaXRzLmZvbnRTaXplXCJcclxuICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5mb250LXdlaWdodF09XCJzdmcudW5pdHMuZm9udFdlaWdodFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuZmlsbF09XCJzdmcudW5pdHMuY29sb3JcIj57e3N2Zy51bml0cy50ZXh0fX08L3RzcGFuPlxyXG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIm9wdGlvbnMuc2hvd1N1YnRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRzcGFuICpuZ0Zvcj1cImxldCB0c3BhbiBvZiBzdmcuc3VidGl0bGUudHNwYW5zXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIueF09XCJzdmcuc3VidGl0bGUueFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLnldPVwic3ZnLnN1YnRpdGxlLnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5keV09XCJ0c3Bhbi5keVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmZvbnQtc2l6ZV09XCJzdmcuc3VidGl0bGUuZm9udFNpemVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBbYXR0ci5mb250LXdlaWdodF09XCJzdmcuc3VidGl0bGUuZm9udFdlaWdodFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFthdHRyLmZpbGxdPVwic3ZnLnN1YnRpdGxlLmNvbG9yXCI+e3t0c3Bhbi5zcGFufX08L3RzcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgIDwvdGV4dD5cclxuICAgICAgICAgICAgPGltYWdlICpuZ0lmPVwib3B0aW9ucy5zaG93SW1hZ2VcIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPVwibm9uZVwiIFxyXG4gICAgICAgICAgICAgICAgW2F0dHIuaGVpZ2h0XT1cInN2Zy5pbWFnZS5oZWlnaHRcIlxyXG4gICAgICAgICAgICAgICAgW2F0dHIud2lkdGhdPVwic3ZnLmltYWdlLndpZHRoXCJcclxuICAgICAgICAgICAgICAgIFthdHRyLnhsaW5rOmhyZWZdPVwic3ZnLmltYWdlLnNyY1wiXHJcbiAgICAgICAgICAgICAgICBbYXR0ci54XT1cInN2Zy5pbWFnZS54XCJcclxuICAgICAgICAgICAgICAgIFthdHRyLnldPVwic3ZnLmltYWdlLnlcIlxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgIDwvc3ZnPlxyXG4gICAgYFxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ2lyY2xlUHJvZ3Jlc3NDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdCwgT25EZXN0cm95IHtcclxuXHJcbiAgICBAT3V0cHV0KCkgb25DbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8TW91c2VFdmVudD4oKTtcclxuXHJcbiAgICBASW5wdXQoKSBuYW1lOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBjbGFzczogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgYmFja2dyb3VuZEdyYWRpZW50OiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgYmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBiYWNrZ3JvdW5kR3JhZGllbnRTdG9wQ29sb3I6IFN0cmluZztcclxuICAgIEBJbnB1dCgpIGJhY2tncm91bmRPcGFjaXR5OiBudW1iZXI7XHJcbiAgICBASW5wdXQoKSBiYWNrZ3JvdW5kU3Ryb2tlOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBiYWNrZ3JvdW5kU3Ryb2tlV2lkdGg6IG51bWJlcjtcclxuICAgIEBJbnB1dCgpIGJhY2tncm91bmRQYWRkaW5nOiBudW1iZXI7XHJcblxyXG4gICAgQElucHV0KCkgcmFkaXVzOiBudW1iZXI7XHJcbiAgICBASW5wdXQoKSBzcGFjZTogbnVtYmVyO1xyXG4gICAgQElucHV0KCkgcGVyY2VudDogbnVtYmVyO1xyXG4gICAgQElucHV0KCkgdG9GaXhlZDogbnVtYmVyO1xyXG4gICAgQElucHV0KCkgbWF4UGVyY2VudDogbnVtYmVyO1xyXG4gICAgQElucHV0KCkgcmVuZGVyT25DbGljazogYm9vbGVhbjtcclxuXHJcbiAgICBASW5wdXQoKSB1bml0czogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgdW5pdHNGb250U2l6ZTogc3RyaW5nO1xyXG4gICAgQElucHV0KCkgdW5pdHNGb250V2VpZ2h0OiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSB1bml0c0NvbG9yOiBzdHJpbmc7XHJcblxyXG4gICAgQElucHV0KCkgb3V0ZXJTdHJva2VHcmFkaWVudDogYm9vbGVhbjtcclxuICAgIEBJbnB1dCgpIG91dGVyU3Ryb2tlV2lkdGg6IG51bWJlcjtcclxuICAgIEBJbnB1dCgpIG91dGVyU3Ryb2tlQ29sb3I6IHN0cmluZztcclxuICAgIEBJbnB1dCgpIG91dGVyU3Ryb2tlR3JhZGllbnRTdG9wQ29sb3I6IFN0cmluZztcclxuICAgIEBJbnB1dCgpIG91dGVyU3Ryb2tlTGluZWNhcDogc3RyaW5nO1xyXG5cclxuICAgIEBJbnB1dCgpIGlubmVyU3Ryb2tlQ29sb3I6IHN0cmluZztcclxuICAgIEBJbnB1dCgpIGlubmVyU3Ryb2tlV2lkdGg6IHN0cmluZyB8IG51bWJlcjtcclxuXHJcbiAgICBASW5wdXQoKSB0aXRsZUZvcm1hdDogRnVuY3Rpb247XHJcbiAgICBASW5wdXQoKSB0aXRsZTogc3RyaW5nIHwgQXJyYXk8U3RyaW5nPjtcclxuICAgIEBJbnB1dCgpIHRpdGxlQ29sb3I6IHN0cmluZztcclxuICAgIEBJbnB1dCgpIHRpdGxlRm9udFNpemU6IHN0cmluZztcclxuICAgIEBJbnB1dCgpIHRpdGxlRm9udFdlaWdodDogc3RyaW5nO1xyXG5cclxuICAgIEBJbnB1dCgpIHN1YnRpdGxlRm9ybWF0OiBGdW5jdGlvbjtcclxuICAgIEBJbnB1dCgpIHN1YnRpdGxlOiBzdHJpbmcgfCBzdHJpbmdbXTtcclxuICAgIEBJbnB1dCgpIHN1YnRpdGxlQ29sb3I6IHN0cmluZztcclxuICAgIEBJbnB1dCgpIHN1YnRpdGxlRm9udFNpemU6IHN0cmluZztcclxuICAgIEBJbnB1dCgpIHN1YnRpdGxlRm9udFdlaWdodDogc3RyaW5nO1xyXG5cclxuICAgIEBJbnB1dCgpIGltYWdlU3JjOiBzdHJpbmc7XHJcbiAgICBASW5wdXQoKSBpbWFnZUhlaWdodDogbnVtYmVyO1xyXG4gICAgQElucHV0KCkgaW1hZ2VXaWR0aDogbnVtYmVyO1xyXG5cclxuICAgIEBJbnB1dCgpIGFuaW1hdGlvbjogYm9vbGVhbjtcclxuICAgIEBJbnB1dCgpIGFuaW1hdGVUaXRsZTogYm9vbGVhbjtcclxuICAgIEBJbnB1dCgpIGFuaW1hdGVTdWJ0aXRsZTogYm9vbGVhbjtcclxuICAgIEBJbnB1dCgpIGFuaW1hdGlvbkR1cmF0aW9uOiBudW1iZXI7XHJcblxyXG4gICAgQElucHV0KCkgc2hvd1RpdGxlOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgc2hvd1N1YnRpdGxlOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgc2hvd1VuaXRzOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgc2hvd0ltYWdlOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgc2hvd0JhY2tncm91bmQ6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSBzaG93SW5uZXJTdHJva2U6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSBjbG9ja3dpc2U6IGJvb2xlYW47XHJcbiAgICBASW5wdXQoKSByZXNwb25zaXZlOiBib29sZWFuO1xyXG4gICAgQElucHV0KCkgc3RhcnRGcm9tWmVybzogYm9vbGVhbjtcclxuICAgIEBJbnB1dCgpIHNob3daZXJvT3V0ZXJTdHJva2U6IGJvb2xlYW47XHJcblxyXG4gICAgQElucHV0KCkgbGF6eTogYm9vbGVhbjtcclxuXHJcbiAgICBASW5wdXQoJ29wdGlvbnMnKSB0ZW1wbGF0ZU9wdGlvbnM6IENpcmNsZVByb2dyZXNzT3B0aW9ucztcclxuXHJcbiAgICAvLyA8c3ZnPiBvZiBjb21wb25lbnRcclxuICAgIHN2Z0VsZW1lbnQ6IEhUTUxFbGVtZW50ID0gbnVsbDtcclxuICAgIC8vIHdoZXRoZXIgPHN2Zz4gaXMgaW4gdmlld3BvcnRcclxuICAgIGlzSW5WaWV3cG9ydDogQm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgLy8gZXZlbnQgZm9yIG5vdGlmeWluZyB2aWV3cG9ydCBjaGFuZ2UgY2F1c2VkIGJ5IHNjcm9sbGluZyBvciByZXNpemluZ1xyXG4gICAgb25WaWV3cG9ydENoYW5nZWQ6IEV2ZW50RW1pdHRlcjx7IG9sZFZhbHVlOiBCb29sZWFuLCBuZXdWYWx1ZTogQm9vbGVhbiB9PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIHdpbmRvdzogV2luZG93O1xyXG4gICAgX3ZpZXdwb3J0Q2hhbmdlZFN1YnNjcmliZXI6IFN1YnNjcmlwdGlvbiA9IG51bGw7XHJcblxyXG4gICAgc3ZnOiBhbnk7XHJcblxyXG4gICAgb3B0aW9uczogQ2lyY2xlUHJvZ3Jlc3NPcHRpb25zID0gbmV3IENpcmNsZVByb2dyZXNzT3B0aW9ucygpO1xyXG4gICAgZGVmYXVsdE9wdGlvbnM6IENpcmNsZVByb2dyZXNzT3B0aW9ucyA9IG5ldyBDaXJjbGVQcm9ncmVzc09wdGlvbnMoKTtcclxuICAgIF9sYXN0UGVyY2VudDogbnVtYmVyID0gMDtcclxuICAgIF9ncmFkaWVudFVVSUQ6IHN0cmluZyA9IG51bGw7XHJcbiAgICByZW5kZXIgPSAoKSA9PiB7XHJcblxyXG4gICAgICAgIHRoaXMuYXBwbHlPcHRpb25zKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGF6eSkge1xyXG4gICAgICAgICAgICAvLyBEcmF3IHN2ZyBpZiBpdCBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgICAgIHRoaXMuc3ZnRWxlbWVudCA9PT0gbnVsbCAmJiB0aGlzLmRyYXcodGhpcy5fbGFzdFBlcmNlbnQpO1xyXG4gICAgICAgICAgICAvLyBEcmF3IGl0IG9ubHkgd2hlbiBpdCdzIGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0luVmlld3BvcnQpIHtcclxuICAgICAgICAgICAgICAgIC8vIERyYXcgaXQgYXQgdGhlIGxhdGVzdCBwb3NpdGlvbiB3aGVuIEkgYW0gaW4uXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbiAmJiB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKHRoaXMuX2xhc3RQZXJjZW50LCB0aGlzLm9wdGlvbnMucGVyY2VudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdyh0aGlzLm9wdGlvbnMucGVyY2VudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0UGVyY2VudCA9IHRoaXMub3B0aW9ucy5wZXJjZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24gJiYgdGhpcy5vcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlKHRoaXMuX2xhc3RQZXJjZW50LCB0aGlzLm9wdGlvbnMucGVyY2VudCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXcodGhpcy5vcHRpb25zLnBlcmNlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2xhc3RQZXJjZW50ID0gdGhpcy5vcHRpb25zLnBlcmNlbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHBvbGFyVG9DYXJ0ZXNpYW4gPSAoY2VudGVyWDogbnVtYmVyLCBjZW50ZXJZOiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBhbmdsZUluRGVncmVlczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgbGV0IGFuZ2xlSW5SYWRpdXMgPSBhbmdsZUluRGVncmVlcyAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgbGV0IHggPSBjZW50ZXJYICsgTWF0aC5zaW4oYW5nbGVJblJhZGl1cykgKiByYWRpdXM7XHJcbiAgICAgICAgbGV0IHkgPSBjZW50ZXJZIC0gTWF0aC5jb3MoYW5nbGVJblJhZGl1cykgKiByYWRpdXM7XHJcbiAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xyXG4gICAgfTtcclxuICAgIGRyYXcgPSAocGVyY2VudDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgLy8gbWFrZSBwZXJjZW50IHJlYXNvbmFibGVcclxuICAgICAgICBwZXJjZW50ID0gKHBlcmNlbnQgPT09IHVuZGVmaW5lZCkgPyB0aGlzLm9wdGlvbnMucGVyY2VudCA6IE1hdGguYWJzKHBlcmNlbnQpO1xyXG4gICAgICAgIC8vIGNpcmNsZSBwZXJjZW50IHNob3VsZG4ndCBiZSBncmVhdGVyIHRoYW4gMTAwJS5cclxuICAgICAgICBsZXQgY2lyY2xlUGVyY2VudCA9IChwZXJjZW50ID4gMTAwKSA/IDEwMCA6IHBlcmNlbnQ7XHJcbiAgICAgICAgLy8gZGV0ZXJtaW5lIGJveCBzaXplXHJcbiAgICAgICAgbGV0IGJveFNpemUgPSB0aGlzLm9wdGlvbnMucmFkaXVzICogMiArIHRoaXMub3B0aW9ucy5vdXRlclN0cm9rZVdpZHRoICogMjtcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dCYWNrZ3JvdW5kKSB7XHJcbiAgICAgICAgICAgIGJveFNpemUgKz0gKHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kU3Ryb2tlV2lkdGggKiAyICsgdGhpcy5tYXgoMCwgdGhpcy5vcHRpb25zLmJhY2tncm91bmRQYWRkaW5nICogMikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0aGUgY2VudHJlIG9mIHRoZSBjaXJjbGVcclxuICAgICAgICBsZXQgY2VudHJlID0geyB4OiBib3hTaXplIC8gMiwgeTogYm94U2l6ZSAvIDIgfTtcclxuICAgICAgICAvLyB0aGUgc3RhcnQgcG9pbnQgb2YgdGhlIGFyY1xyXG4gICAgICAgIGxldCBzdGFydFBvaW50ID0geyB4OiBjZW50cmUueCwgeTogY2VudHJlLnkgLSB0aGlzLm9wdGlvbnMucmFkaXVzIH07XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBlbmQgcG9pbnQgb2YgdGhlIGFyY1xyXG4gICAgICAgIGxldCBlbmRQb2ludCA9IHRoaXMucG9sYXJUb0NhcnRlc2lhbihjZW50cmUueCwgY2VudHJlLnksIHRoaXMub3B0aW9ucy5yYWRpdXMsIDM2MCAqICh0aGlzLm9wdGlvbnMuY2xvY2t3aXNlID9cclxuICAgICAgICAgICAgY2lyY2xlUGVyY2VudCA6XHJcbiAgICAgICAgICAgICgxMDAgLSBjaXJjbGVQZXJjZW50KSkgLyAxMDApOyAgLy8gIyMjIyMjIyMjIyMjIyMjIyMjIyNcclxuICAgICAgICAvLyBXZSdsbCBnZXQgYW4gZW5kIHBvaW50IHdpdGggdGhlIHNhbWUgW3gsIHldIGFzIHRoZSBzdGFydCBwb2ludCB3aGVuIHBlcmNlbnQgaXMgMTAwJSwgc28gbW92ZSB4IGEgbGl0dGxlIGJpdC5cclxuICAgICAgICBpZiAoY2lyY2xlUGVyY2VudCA9PT0gMTAwKSB7XHJcbiAgICAgICAgICAgIGVuZFBvaW50LnggPSBlbmRQb2ludC54ICsgKHRoaXMub3B0aW9ucy5jbG9ja3dpc2UgPyAtMC4wMSA6ICswLjAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbGFyZ2VBcmNGbGFnIGFuZCBzd2VlcEZsYWdcclxuICAgICAgICBsZXQgbGFyZ2VBcmNGbGFnOiBhbnksIHN3ZWVwRmxhZzogYW55O1xyXG4gICAgICAgIGlmIChjaXJjbGVQZXJjZW50ID4gNTApIHtcclxuICAgICAgICAgICAgW2xhcmdlQXJjRmxhZywgc3dlZXBGbGFnXSA9IHRoaXMub3B0aW9ucy5jbG9ja3dpc2UgPyBbMSwgMV0gOiBbMSwgMF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgW2xhcmdlQXJjRmxhZywgc3dlZXBGbGFnXSA9IHRoaXMub3B0aW9ucy5jbG9ja3dpc2UgPyBbMCwgMV0gOiBbMCwgMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHBlcmNlbnQgbWF5IG5vdCBlcXVhbCB0aGUgYWN0dWFsIHBlcmNlbnRcclxuICAgICAgICBsZXQgdGl0bGVQZXJjZW50ID0gdGhpcy5vcHRpb25zLmFuaW1hdGVUaXRsZSA/IHBlcmNlbnQgOiB0aGlzLm9wdGlvbnMucGVyY2VudDtcclxuICAgICAgICBsZXQgdGl0bGVUZXh0UGVyY2VudCA9IHRpdGxlUGVyY2VudCA+IHRoaXMub3B0aW9ucy5tYXhQZXJjZW50ID9cclxuICAgICAgICAgICAgYCR7dGhpcy5vcHRpb25zLm1heFBlcmNlbnQudG9GaXhlZCh0aGlzLm9wdGlvbnMudG9GaXhlZCl9K2AgOiB0aXRsZVBlcmNlbnQudG9GaXhlZCh0aGlzLm9wdGlvbnMudG9GaXhlZCk7XHJcbiAgICAgICAgbGV0IHN1YnRpdGxlUGVyY2VudCA9IHRoaXMub3B0aW9ucy5hbmltYXRlU3VidGl0bGUgPyBwZXJjZW50IDogdGhpcy5vcHRpb25zLnBlcmNlbnQ7XHJcbiAgICAgICAgLy8gZ2V0IHRpdGxlIG9iamVjdFxyXG4gICAgICAgIGxldCB0aXRsZSA9IHtcclxuICAgICAgICAgICAgeDogY2VudHJlLngsXHJcbiAgICAgICAgICAgIHk6IGNlbnRyZS55LFxyXG4gICAgICAgICAgICB0ZXh0QW5jaG9yOiAnbWlkZGxlJyxcclxuICAgICAgICAgICAgY29sb3I6IHRoaXMub3B0aW9ucy50aXRsZUNvbG9yLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogdGhpcy5vcHRpb25zLnRpdGxlRm9udFNpemUsXHJcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IHRoaXMub3B0aW9ucy50aXRsZUZvbnRXZWlnaHQsXHJcbiAgICAgICAgICAgIHRleHRzOiBbXSxcclxuICAgICAgICAgICAgdHNwYW5zOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gZnJvbSB2MC45LjksIGJvdGggdGl0bGUgYW5kIHRpdGxlRm9ybWF0KC4uLikgbWF5IGJlIGFuIGFycmF5IG9mIHN0cmluZy5cclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnRpdGxlRm9ybWF0ICE9PSB1bmRlZmluZWQgJiYgdGhpcy5vcHRpb25zLnRpdGxlRm9ybWF0LmNvbnN0cnVjdG9yLm5hbWUgPT09ICdGdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgbGV0IGZvcm1hdHRlZCA9IHRoaXMub3B0aW9ucy50aXRsZUZvcm1hdCh0aXRsZVBlcmNlbnQpO1xyXG4gICAgICAgICAgICBpZiAoZm9ybWF0dGVkIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIHRpdGxlLnRleHRzID0gWy4uLmZvcm1hdHRlZF07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZS50ZXh0cy5wdXNoKGZvcm1hdHRlZC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGl0bGUgPT09ICdhdXRvJykge1xyXG4gICAgICAgICAgICAgICAgdGl0bGUudGV4dHMucHVzaCh0aXRsZVRleHRQZXJjZW50KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMudGl0bGUgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlLnRleHRzID0gWy4uLnRoaXMub3B0aW9ucy50aXRsZV1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUudGV4dHMucHVzaCh0aGlzLm9wdGlvbnMudGl0bGUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZ2V0IHN1YnRpdGxlIG9iamVjdFxyXG4gICAgICAgIGxldCBzdWJ0aXRsZSA9IHtcclxuICAgICAgICAgICAgeDogY2VudHJlLngsXHJcbiAgICAgICAgICAgIHk6IGNlbnRyZS55LFxyXG4gICAgICAgICAgICB0ZXh0QW5jaG9yOiAnbWlkZGxlJyxcclxuICAgICAgICAgICAgY29sb3I6IHRoaXMub3B0aW9ucy5zdWJ0aXRsZUNvbG9yLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogdGhpcy5vcHRpb25zLnN1YnRpdGxlRm9udFNpemUsXHJcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IHRoaXMub3B0aW9ucy5zdWJ0aXRsZUZvbnRXZWlnaHQsXHJcbiAgICAgICAgICAgIHRleHRzOiBbXSxcclxuICAgICAgICAgICAgdHNwYW5zOiBbXVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmcm9tIHYwLjkuOSwgYm90aCBzdWJ0aXRsZSBhbmQgc3VidGl0bGVGb3JtYXQoLi4uKSBtYXkgYmUgYW4gYXJyYXkgb2Ygc3RyaW5nLlxyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc3VidGl0bGVGb3JtYXQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLm9wdGlvbnMuc3VidGl0bGVGb3JtYXQuY29uc3RydWN0b3IubmFtZSA9PT0gJ0Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBsZXQgZm9ybWF0dGVkID0gdGhpcy5vcHRpb25zLnN1YnRpdGxlRm9ybWF0KHN1YnRpdGxlUGVyY2VudCk7XHJcbiAgICAgICAgICAgIGlmIChmb3JtYXR0ZWQgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgc3VidGl0bGUudGV4dHMgPSBbLi4uZm9ybWF0dGVkXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHN1YnRpdGxlLnRleHRzLnB1c2goZm9ybWF0dGVkLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zdWJ0aXRsZSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZS50ZXh0cyA9IFsuLi50aGlzLm9wdGlvbnMuc3VidGl0bGVdXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZS50ZXh0cy5wdXNoKHRoaXMub3B0aW9ucy5zdWJ0aXRsZS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBnZXQgdW5pdHMgb2JqZWN0XHJcbiAgICAgICAgbGV0IHVuaXRzID0ge1xyXG4gICAgICAgICAgICB0ZXh0OiBgJHt0aGlzLm9wdGlvbnMudW5pdHN9YCxcclxuICAgICAgICAgICAgZm9udFNpemU6IHRoaXMub3B0aW9ucy51bml0c0ZvbnRTaXplLFxyXG4gICAgICAgICAgICBmb250V2VpZ2h0OiB0aGlzLm9wdGlvbnMudW5pdHNGb250V2VpZ2h0LFxyXG4gICAgICAgICAgICBjb2xvcjogdGhpcy5vcHRpb25zLnVuaXRzQ29sb3JcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGdldCB0b3RhbCBjb3VudCBvZiB0ZXh0IGxpbmVzIHRvIGJlIHNob3duXHJcbiAgICAgICAgbGV0IHJvd0NvdW50ID0gMCwgcm93TnVtID0gMTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMuc2hvd1RpdGxlICYmIChyb3dDb3VudCArPSB0aXRsZS50ZXh0cy5sZW5ndGgpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5zaG93U3VidGl0bGUgJiYgKHJvd0NvdW50ICs9IHN1YnRpdGxlLnRleHRzLmxlbmd0aCk7XHJcbiAgICAgICAgLy8gY2FsYyBkeSBmb3IgZWFjaCB0c3BhbiBmb3IgdGl0bGVcclxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dUaXRsZSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBzcGFuIG9mIHRpdGxlLnRleHRzKSB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZS50c3BhbnMucHVzaCh7IHNwYW46IHNwYW4sIGR5OiB0aGlzLmdldFJlbGF0aXZlWShyb3dOdW0sIHJvd0NvdW50KSB9KTtcclxuICAgICAgICAgICAgICAgIHJvd051bSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNhbGMgZHkgZm9yIGVhY2ggdHNwYW4gZm9yIHN1YnRpdGxlXHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaG93U3VidGl0bGUpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgc3BhbiBvZiBzdWJ0aXRsZS50ZXh0cykge1xyXG4gICAgICAgICAgICAgICAgc3VidGl0bGUudHNwYW5zLnB1c2goeyBzcGFuOiBzcGFuLCBkeTogdGhpcy5nZXRSZWxhdGl2ZVkocm93TnVtLCByb3dDb3VudCkgfSlcclxuICAgICAgICAgICAgICAgIHJvd051bSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNyZWF0ZSBJRCBmb3IgZ3JhZGllbnQgZWxlbWVudFxyXG4gICAgICAgIGlmIChudWxsID09PSB0aGlzLl9ncmFkaWVudFVVSUQpIHtcclxuICAgICAgICAgICAgdGhpcy5fZ3JhZGllbnRVVUlEID0gdGhpcy51dWlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEJyaW5nIGl0IGFsbCB0b2dldGhlclxyXG4gICAgICAgIHRoaXMuc3ZnID0ge1xyXG4gICAgICAgICAgICB2aWV3Qm94OiBgMCAwICR7Ym94U2l6ZX0gJHtib3hTaXplfWAsXHJcbiAgICAgICAgICAgIC8vIFNldCBib3RoIHdpZHRoIGFuZCBoZWlnaHQgdG8gJzEwMCUnIGlmIGl0J3MgcmVzcG9uc2l2ZVxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5vcHRpb25zLnJlc3BvbnNpdmUgPyAnMTAwJScgOiBib3hTaXplLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMub3B0aW9ucy5yZXNwb25zaXZlID8gJzEwMCUnIDogYm94U2l6ZSxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENpcmNsZToge1xyXG4gICAgICAgICAgICAgICAgY3g6IGNlbnRyZS54LFxyXG4gICAgICAgICAgICAgICAgY3k6IGNlbnRyZS55LFxyXG4gICAgICAgICAgICAgICAgcjogdGhpcy5vcHRpb25zLnJhZGl1cyArIHRoaXMub3B0aW9ucy5vdXRlclN0cm9rZVdpZHRoIC8gMiArIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kUGFkZGluZyxcclxuICAgICAgICAgICAgICAgIGZpbGw6IHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogdGhpcy5vcHRpb25zLmJhY2tncm91bmRPcGFjaXR5LFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlOiB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZFN0cm9rZSxcclxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZFN0cm9rZVdpZHRoLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwYXRoOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBBIHJ4IHJ5IHgtYXhpcy1yb3RhdGlvbiBsYXJnZS1hcmMtZmxhZyBzd2VlcC1mbGFnIHggeSAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vZG9jcy9XZWIvU1ZHL1R1dG9yaWFsL1BhdGhzI0FyY3MpXHJcbiAgICAgICAgICAgICAgICBkOiBgTSAke3N0YXJ0UG9pbnQueH0gJHtzdGFydFBvaW50Lnl9XHJcbiAgICAgICAgQSAke3RoaXMub3B0aW9ucy5yYWRpdXN9ICR7dGhpcy5vcHRpb25zLnJhZGl1c30gMCAke2xhcmdlQXJjRmxhZ30gJHtzd2VlcEZsYWd9ICR7ZW5kUG9pbnQueH0gJHtlbmRQb2ludC55fWAsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IHRoaXMub3B0aW9ucy5vdXRlclN0cm9rZUNvbG9yLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHRoaXMub3B0aW9ucy5vdXRlclN0cm9rZVdpZHRoLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlTGluZWNhcDogdGhpcy5vcHRpb25zLm91dGVyU3Ryb2tlTGluZWNhcCxcclxuICAgICAgICAgICAgICAgIGZpbGw6ICdub25lJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaXJjbGU6IHtcclxuICAgICAgICAgICAgICAgIGN4OiBjZW50cmUueCxcclxuICAgICAgICAgICAgICAgIGN5OiBjZW50cmUueSxcclxuICAgICAgICAgICAgICAgIHI6IHRoaXMub3B0aW9ucy5yYWRpdXMgLSB0aGlzLm9wdGlvbnMuc3BhY2UgLSB0aGlzLm9wdGlvbnMub3V0ZXJTdHJva2VXaWR0aCAvIDIgLSB0aGlzLm9wdGlvbnMuaW5uZXJTdHJva2VXaWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICBzdHJva2U6IHRoaXMub3B0aW9ucy5pbm5lclN0cm9rZUNvbG9yLFxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHRoaXMub3B0aW9ucy5pbm5lclN0cm9rZVdpZHRoLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICAgIHVuaXRzOiB1bml0cyxcclxuICAgICAgICAgICAgc3VidGl0bGU6IHN1YnRpdGxlLFxyXG4gICAgICAgICAgICBpbWFnZToge1xyXG4gICAgICAgICAgICAgICAgeDogY2VudHJlLnggLSB0aGlzLm9wdGlvbnMuaW1hZ2VXaWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICB5OiBjZW50cmUueSAtIHRoaXMub3B0aW9ucy5pbWFnZUhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgICAgICBzcmM6IHRoaXMub3B0aW9ucy5pbWFnZVNyYyxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLm9wdGlvbnMuaW1hZ2VXaWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5vcHRpb25zLmltYWdlSGVpZ2h0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvdXRlckxpbmVhckdyYWRpZW50OiB7XHJcbiAgICAgICAgICAgICAgICBpZDogJ291dGVyLWxpbmVhci0nICsgdGhpcy5fZ3JhZGllbnRVVUlELFxyXG4gICAgICAgICAgICAgICAgY29sb3JTdG9wMTogdGhpcy5vcHRpb25zLm91dGVyU3Ryb2tlQ29sb3IsXHJcbiAgICAgICAgICAgICAgICBjb2xvclN0b3AyOiB0aGlzLm9wdGlvbnMub3V0ZXJTdHJva2VHcmFkaWVudFN0b3BDb2xvciA9PT0gJ3RyYW5zcGFyZW50JyA/ICcjRkZGJyA6IHRoaXMub3B0aW9ucy5vdXRlclN0cm9rZUdyYWRpZW50U3RvcENvbG9yLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByYWRpYWxHcmFkaWVudDoge1xyXG4gICAgICAgICAgICAgICAgaWQ6ICdyYWRpYWwtJyArIHRoaXMuX2dyYWRpZW50VVVJRCxcclxuICAgICAgICAgICAgICAgIGNvbG9yU3RvcDE6IHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgICAgICAgICAgICBjb2xvclN0b3AyOiB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZEdyYWRpZW50U3RvcENvbG9yID09PSAndHJhbnNwYXJlbnQnID8gJyNGRkYnIDogdGhpcy5vcHRpb25zLmJhY2tncm91bmRHcmFkaWVudFN0b3BDb2xvcixcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgZ2V0QW5pbWF0aW9uUGFyYW1ldGVycyA9IChwcmV2aW91c1BlcmNlbnQ6IG51bWJlciwgY3VycmVudFBlcmNlbnQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IE1JTl9JTlRFUlZBTCA9IDEwO1xyXG4gICAgICAgIGxldCB0aW1lczogbnVtYmVyLCBzdGVwOiBudW1iZXIsIGludGVydmFsOiBudW1iZXI7XHJcbiAgICAgICAgbGV0IGZyb21QZXJjZW50ID0gdGhpcy5vcHRpb25zLnN0YXJ0RnJvbVplcm8gPyAwIDogKHByZXZpb3VzUGVyY2VudCA8IDAgPyAwIDogcHJldmlvdXNQZXJjZW50KTtcclxuICAgICAgICBsZXQgdG9QZXJjZW50ID0gY3VycmVudFBlcmNlbnQgPCAwID8gMCA6IHRoaXMubWluKGN1cnJlbnRQZXJjZW50LCB0aGlzLm9wdGlvbnMubWF4UGVyY2VudCk7XHJcbiAgICAgICAgbGV0IGRlbHRhID0gTWF0aC5hYnMoTWF0aC5yb3VuZCh0b1BlcmNlbnQgLSBmcm9tUGVyY2VudCkpO1xyXG5cclxuICAgICAgICBpZiAoZGVsdGEgPj0gMTAwKSB7XHJcbiAgICAgICAgICAgIC8vIHdlIHdpbGwgZmluaXNoIGFuaW1hdGlvbiBpbiAxMDAgdGltZXNcclxuICAgICAgICAgICAgdGltZXMgPSAxMDA7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmFuaW1hdGVUaXRsZSAmJiAhdGhpcy5vcHRpb25zLmFuaW1hdGVTdWJ0aXRsZSkge1xyXG4gICAgICAgICAgICAgICAgc3RlcCA9IDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzaG93IHRpdGxlIG9yIHN1YnRpdGxlIGFuaW1hdGlvbiBldmVuIGlmIHRoZSBhcmMgaXMgZnVsbCwgd2UgYWxzbyBuZWVkIHRvIGZpbmlzaCBpdCBpbiAxMDAgdGltZXMuXHJcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5yb3VuZChkZWx0YSAvIHRpbWVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHdlIHdpbGwgZmluaXNoIGluIGFzIG1hbnkgdGltZXMgYXMgdGhlIG51bWJlciBvZiBwZXJjZW50LlxyXG4gICAgICAgICAgICB0aW1lcyA9IGRlbHRhO1xyXG4gICAgICAgICAgICBzdGVwID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gR2V0IHRoZSBpbnRlcnZhbCBvZiB0aW1lclxyXG4gICAgICAgIGludGVydmFsID0gTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24gLyB0aW1lcyk7XHJcbiAgICAgICAgLy8gUmVhZGp1c3QgYWxsIHZhbHVlcyBpZiB0aGUgaW50ZXJ2YWwgb2YgdGltZXIgaXMgZXh0cmVtZWx5IHNtYWxsLlxyXG4gICAgICAgIGlmIChpbnRlcnZhbCA8IE1JTl9JTlRFUlZBTCkge1xyXG4gICAgICAgICAgICBpbnRlcnZhbCA9IE1JTl9JTlRFUlZBTDtcclxuICAgICAgICAgICAgdGltZXMgPSB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24gLyBpbnRlcnZhbDtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuYW5pbWF0ZVRpdGxlICYmICF0aGlzLm9wdGlvbnMuYW5pbWF0ZVN1YnRpdGxlICYmIGRlbHRhID4gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5yb3VuZCgxMDAgLyB0aW1lcyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdGVwID0gTWF0aC5yb3VuZChkZWx0YSAvIHRpbWVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzdGVwIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAuXHJcbiAgICAgICAgaWYgKHN0ZXAgPCAxKSB7XHJcbiAgICAgICAgICAgIHN0ZXAgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyB0aW1lczogdGltZXMsIHN0ZXA6IHN0ZXAsIGludGVydmFsOiBpbnRlcnZhbCB9O1xyXG4gICAgfTtcclxuICAgIGFuaW1hdGUgPSAocHJldmlvdXNQZXJjZW50OiBudW1iZXIsIGN1cnJlbnRQZXJjZW50OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5fdGltZXJTdWJzY3JpcHRpb24gJiYgIXRoaXMuX3RpbWVyU3Vic2NyaXB0aW9uLmNsb3NlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZnJvbVBlcmNlbnQgPSB0aGlzLm9wdGlvbnMuc3RhcnRGcm9tWmVybyA/IDAgOiBwcmV2aW91c1BlcmNlbnQ7XHJcbiAgICAgICAgbGV0IHRvUGVyY2VudCA9IGN1cnJlbnRQZXJjZW50O1xyXG4gICAgICAgIGxldCB7IHN0ZXA6IHN0ZXAsIGludGVydmFsOiBpbnRlcnZhbCB9ID0gdGhpcy5nZXRBbmltYXRpb25QYXJhbWV0ZXJzKGZyb21QZXJjZW50LCB0b1BlcmNlbnQpO1xyXG4gICAgICAgIGxldCBjb3VudCA9IGZyb21QZXJjZW50O1xyXG4gICAgICAgIGlmIChmcm9tUGVyY2VudCA8IHRvUGVyY2VudCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lclN1YnNjcmlwdGlvbiA9IHRpbWVyKDAsIGludGVydmFsKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY291bnQgKz0gc3RlcDtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA8PSB0b1BlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5hbmltYXRlVGl0bGUgJiYgIXRoaXMub3B0aW9ucy5hbmltYXRlU3VidGl0bGUgJiYgY291bnQgPj0gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdyh0b1BlcmNlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdyhjb3VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcodG9QZXJjZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lclN1YnNjcmlwdGlvbiA9IHRpbWVyKDAsIGludGVydmFsKS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY291bnQgLT0gc3RlcDtcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCA+PSB0b1BlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5hbmltYXRlVGl0bGUgJiYgIXRoaXMub3B0aW9ucy5hbmltYXRlU3VidGl0bGUgJiYgdG9QZXJjZW50ID49IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcodG9QZXJjZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY291bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3KHRvUGVyY2VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGltZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGVtaXRDbGlja0V2ZW50KGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW5kZXJPbkNsaWNrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSgwLCB0aGlzLm9wdGlvbnMucGVyY2VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLm9uQ2xpY2sub2JzZXJ2ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHRoaXMub25DbGljay5lbWl0KGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIF90aW1lclN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xyXG4gICAgcHJpdmF0ZSBhcHBseU9wdGlvbnMgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gdGhlIG9wdGlvbnMgb2YgPGNpcmNsZS1wcm9ncmVzcz4gbWF5IGNoYW5nZSBhbHJlYWR5XHJcbiAgICAgICAgZm9yIChsZXQgbmFtZSBvZiBPYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc093blByb3BlcnR5KG5hbWUpICYmIHRoaXNbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zW25hbWVdID0gdGhpc1tuYW1lXTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRlbXBsYXRlT3B0aW9ucyAmJiB0aGlzLnRlbXBsYXRlT3B0aW9uc1tuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnNbbmFtZV0gPSB0aGlzLnRlbXBsYXRlT3B0aW9uc1tuYW1lXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBtYWtlIHN1cmUga2V5IG9wdGlvbnMgdmFsaWRcclxuICAgICAgICB0aGlzLm9wdGlvbnMucmFkaXVzID0gTWF0aC5hYnMoK3RoaXMub3B0aW9ucy5yYWRpdXMpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5zcGFjZSA9ICt0aGlzLm9wdGlvbnMuc3BhY2U7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLnBlcmNlbnQgPSArdGhpcy5vcHRpb25zLnBlcmNlbnQgPiAwID8gK3RoaXMub3B0aW9ucy5wZXJjZW50IDogMDtcclxuICAgICAgICB0aGlzLm9wdGlvbnMubWF4UGVyY2VudCA9IE1hdGguYWJzKCt0aGlzLm9wdGlvbnMubWF4UGVyY2VudCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uID0gTWF0aC5hYnModGhpcy5vcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMub3V0ZXJTdHJva2VXaWR0aCA9IE1hdGguYWJzKCt0aGlzLm9wdGlvbnMub3V0ZXJTdHJva2VXaWR0aCk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLmlubmVyU3Ryb2tlV2lkdGggPSBNYXRoLmFicygrdGhpcy5vcHRpb25zLmlubmVyU3Ryb2tlV2lkdGgpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kUGFkZGluZyA9ICt0aGlzLm9wdGlvbnMuYmFja2dyb3VuZFBhZGRpbmc7XHJcbiAgICB9O1xyXG4gICAgcHJpdmF0ZSBnZXRSZWxhdGl2ZVkgPSAocm93TnVtOiBudW1iZXIsIHJvd0NvdW50OiBudW1iZXIpOiBzdHJpbmcgPT4ge1xyXG4gICAgICAgIC8vIHdoeSAnLTAuMThlbSc/IEl0J3MgYSBtYWdpYyBudW1iZXIgd2hlbiBwcm9wZXJ0eSAnYWxpZ25tZW50LWJhc2VsaW5lJyBlcXVhbHMgJ2Jhc2VsaW5lJy4gOilcclxuICAgICAgICBsZXQgaW5pdGlhbE9mZnNldCA9IC0wLjE4LCBvZmZzZXQgPSAxO1xyXG4gICAgICAgIHJldHVybiAoaW5pdGlhbE9mZnNldCArIG9mZnNldCAqIChyb3dOdW0gLSByb3dDb3VudCAvIDIpKS50b0ZpeGVkKDIpICsgJ2VtJztcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBtaW4gPSAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4gYSA8IGIgPyBhIDogYjtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSBtYXggPSAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4gYSA+IGIgPyBhIDogYjtcclxuICAgIH07XHJcblxyXG4gICAgcHJpdmF0ZSB1dWlkID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIGh0dHBzOi8vd3d3LnczcmVzb3VyY2UuY29tL2phdmFzY3JpcHQtZXhlcmNpc2VzL2phdmFzY3JpcHQtbWF0aC1leGVyY2lzZS0yMy5waHBcclxuICAgICAgICB2YXIgZHQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICB2YXIgdXVpZCA9ICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSAoZHQgKyBNYXRoLnJhbmRvbSgpICogMTYpICUgMTYgfCAwO1xyXG4gICAgICAgICAgICBkdCA9IE1hdGguZmxvb3IoZHQgLyAxNik7XHJcbiAgICAgICAgICAgIHJldHVybiAoYyA9PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpKS50b1N0cmluZygxNik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHV1aWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzRHJhd2luZygpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuX3RpbWVyU3Vic2NyaXB0aW9uICYmICF0aGlzLl90aW1lclN1YnNjcmlwdGlvbi5jbG9zZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmaW5kU3ZnRWxlbWVudCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5zdmdFbGVtZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxldCB0YWdzID0gdGhpcy5lbFJlZi5uYXRpdmVFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdmcnKTtcclxuICAgICAgICAgICAgaWYgKHRhZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdmdFbGVtZW50ID0gdGFnc1swXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzRWxlbWVudEluVmlld3BvcnQoZWwpOiBCb29sZWFuIHtcclxuICAgICAgICAvLyBSZXR1cm4gZmFsc2UgaWYgZWwgaGFzIG5vdCBiZWVuIGNyZWF0ZWQgaW4gcGFnZS5cclxuICAgICAgICBpZiAoZWwgPT09IG51bGwgfHwgZWwgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBlbGVtZW50IGlzIG91dCBvZiB2aWV3IGR1ZSB0byBhIGNvbnRhaW5lciBzY3JvbGxpbmdcclxuICAgICAgICBsZXQgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBwYXJlbnQgPSBlbC5wYXJlbnROb2RlLCBwYXJlbnRSZWN0O1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgcGFyZW50UmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgaWYgKHJlY3QudG9wID49IHBhcmVudFJlY3QuYm90dG9tKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIGlmIChyZWN0LmJvdHRvbSA8PSBwYXJlbnRSZWN0LnRvcCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAocmVjdC5sZWZ0ID49IHBhcmVudFJlY3QucmlnaHQpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHJlY3QucmlnaHQgPD0gcGFyZW50UmVjdC5sZWZ0KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xyXG4gICAgICAgIH0gd2hpbGUgKHBhcmVudCAhPSB0aGlzLmRvY3VtZW50LmJvZHkpO1xyXG4gICAgICAgIC8vIENoZWNrIGl0cyB3aXRoaW4gdGhlIGRvY3VtZW50IHZpZXdwb3J0XHJcbiAgICAgICAgaWYgKHJlY3QudG9wID49ICh0aGlzLndpbmRvdy5pbm5lckhlaWdodCB8fCB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHJlY3QuYm90dG9tIDw9IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAocmVjdC5sZWZ0ID49ICh0aGlzLndpbmRvdy5pbm5lcldpZHRoIHx8IHRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmIChyZWN0LnJpZ2h0IDw9IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1ZpZXdwb3J0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZmluZFN2Z0VsZW1lbnQoKTtcclxuICAgICAgICBsZXQgcHJldmlvdXNWYWx1ZSA9IHRoaXMuaXNJblZpZXdwb3J0O1xyXG4gICAgICAgIHRoaXMuaXNJblZpZXdwb3J0ID0gdGhpcy5pc0VsZW1lbnRJblZpZXdwb3J0KHRoaXMuc3ZnRWxlbWVudCk7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IHRoaXMuaXNJblZpZXdwb3J0ICYmIHRoaXMub25WaWV3cG9ydENoYW5nZWQub2JzZXJ2ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5uZ1pvbmUucnVuKCgpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLm9uVmlld3BvcnRDaGFuZ2VkLmVtaXQoeyBvbGRWYWx1ZTogcHJldmlvdXNWYWx1ZSwgbmV3VmFsdWU6IHRoaXMuaXNJblZpZXdwb3J0IH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25TY3JvbGwgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5jaGVja1ZpZXdwb3J0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZEV2ZW50c0ZvckxhenlNb2RlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGF6eSkge1xyXG4gICAgICAgICAgICB0aGlzLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsLCB0cnVlKTtcclxuICAgICAgICAgICAgICB0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uU2Nyb2xsLCB0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl92aWV3cG9ydENoYW5nZWRTdWJzY3JpYmVyID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3cG9ydENoYW5nZWRTdWJzY3JpYmVyID0gdGhpcy5vblZpZXdwb3J0Q2hhbmdlZC5zdWJzY3JpYmUoKHsgb2xkVmFsdWUsIG5ld1ZhbHVlIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA/IHRoaXMucmVuZGVyKCkgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gc3ZnRWxlbWVudCBtdXN0IGJlIGNyZWF0ZWQgaW4gRE9NIGJlZm9yZSBiZWluZyBjaGVja2VkLlxyXG4gICAgICAgICAgICAvLyBJcyB0aGVyZSBhIGJldHRlciB3YXkgdG8gY2hlY2sgdGhlIGV4aXN0ZW5jZSBvZiBzdmdFbGVtbnQ/XHJcbiAgICAgICAgICAgIGxldCBfdGltZXIgPSB0aW1lcigwLCA1MCkuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ZnRWxlbWVudCA9PT0gbnVsbCA/IHRoaXMuY2hlY2tWaWV3cG9ydCgpIDogX3RpbWVyLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVubG9hZEV2ZW50c0ZvckxhenlNb2RlID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMub25TY3JvbGwsIHRydWUpO1xyXG4gICAgICAgIHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25TY3JvbGwsIHRydWUpO1xyXG4gICAgICAgIC8vIFVuc3Vic2NyaWJlIG9uVmlld3BvcnRDaGFuZ2VkXHJcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdwb3J0Q2hhbmdlZFN1YnNjcmliZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmlld3BvcnRDaGFuZ2VkU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl92aWV3cG9ydENoYW5nZWRTdWJzY3JpYmVyID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkRXZlbnRzRm9yTGF6eU1vZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBuZ09uRGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnVubG9hZEV2ZW50c0ZvckxhenlNb2RlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG5cclxuICAgICAgICBpZiAoJ2xhenknIGluIGNoYW5nZXMpIHtcclxuICAgICAgICAgICAgY2hhbmdlcy5sYXp5LmN1cnJlbnRWYWx1ZSA/IHRoaXMubG9hZEV2ZW50c0ZvckxhenlNb2RlKCkgOiB0aGlzLnVubG9hZEV2ZW50c0ZvckxhenlNb2RlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRvY3VtZW50OiBEb2N1bWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgICAgZGVmYXVsdE9wdGlvbnM6IENpcmNsZVByb2dyZXNzT3B0aW9ucyxcclxuICAgICAgcHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZSxcclxuICAgICAgcHJpdmF0ZSBlbFJlZjogRWxlbWVudFJlZixcclxuICAgICAgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy5kb2N1bWVudCA9IGluamVjdG9yLmdldChET0NVTUVOVCk7XHJcbiAgICAgICAgdGhpcy53aW5kb3cgPSB0aGlzLmRvY3VtZW50LmRlZmF1bHRWaWV3O1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLCBkZWZhdWx0T3B0aW9ucyk7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmRlZmF1bHRPcHRpb25zLCBkZWZhdWx0T3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==